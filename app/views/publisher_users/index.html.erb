<% provide(:title, 'My Story') %>
<script id="dropdown-data1-selected" type="text/x-dot-template"> {{=it.label}}
	<div class="down-caret">&#9660;</div>
</script>
<script id="dropdown-data1" type="text/x-dot-template">
	<div class="dropdown dropdown-1" id="dropdown1" tabindex="606">
		<div class="selected">{{=it.selected.label}}
			<div class="down-caret">&#9660;</div>
		</div>
		<ul style="height: 200px;"> {{~it.items :item:index}}
			<li data-index="{{=index}}">{{=item.label}}</li> {{~}} </ul>
	</div>
</script>
<script id="dropdown-data2-selected" type="text/x-dot-template"> {{=it.label}}
	<div class="down-caret">&#9660;</div>
</script>
<script id="dropdown-data2" type="text/x-dot-template">
	<div class="dropdown dropdown-2" id="dropdown2" tabindex="607">
		<div class="selected">{{=it.selected.label}}
			<div class="down-caret">&#9660;</div>
		</div>
		<ul style="height: 200px;"> {{~it.items :item:index}}
			<li data-index="{{=index}}">{{=item.label}}</li> {{~}} </ul>
	</div>
</script>
<script id="dropdown-data3-selected" type="text/x-dot-template"> {{=it.label}}
	<div class="down-caret">&#9660;</div>
</script>
<script id="dropdown-data3" type="text/x-dot-template">
	<div class="dropdown dropdown-3" id="dropdown3" tabindex="608">
		<div class="selected">{{=it.selected.label}}
			<div class="down-caret">&#9660;</div>
		</div>
		<ul style="height: 200px;"> {{~it.items :item:index}}
			<li data-index="{{=index}}">{{=item.label}}</li> {{~}} </ul>
	</div>
</script>
<div class="jqmWindow jqmWindow-201" id="dialog_201">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form201" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="dialog-msg-container-3">
				<span>Welcome to Know Story</span>
			</div>
		</div>
	</div>
	<div class="space-height-16"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="dialog-msg-container-3">
				<span>Use the 'Edit' buttons to enter your story.</span>
			</div>
		</div>
		<div class="space-height-2"></div>
		<div class="row">
			<div class="dialog-checkbox-container">
				<div class="dialog-msg-container-2 dialog-checkbox-text">
					Don't show this again:
				</div>
				<div class="dialog-msg-container-2 dialog-checkbox-box">
					<%= check_box_tag :new_user %>
				</div>
			</div>
		</div>
		<div class="space-height-6"></div>
		<div class="row">
			<div class="cell-100percent text-align-center">
				<span>
				<input id="btn_dlg_submit_new_user_msg" class="btn-pop-dialog" type="button" value="OK" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-20"></div>
</div>
<div class="jqmWindow jqmWindow-1001" id="dialog_1001">
	<div class="table-dl-form-1001">
		<div class="row">
			<div class="cell-100percent">
				<div id="close_form1001" class="form-edit-close jqmClose tip-left-center" tabindex="">
					<%= image_tag('x_close_white_w20_h20.png', alt: 'X', height: '20px' ) %>
				</div>
				<div class="tip-content">
					<div class="tooltiptext">
						Close
					</div>
				</div>
				<div class="float-clear"></div>
			</div>
		</div>
	</div>
	<div class="dialog-text-align-center">
		<div class="space-height-20"></div>
		<div id="dialog_1001_content_container" class="">
			<figure id="profile_figure_dialog_1001" class="dialog-user-image">
				<img alt="" src="" />
			</figure>
		</div>
		<div class="space-height-50"></div>
	</div>
</div>
<div class="jqmWindow jqmWindow-101" id="dialog_101">
	<div class="table-dl-form-101">
		<div class="row">
			<div class="cell-100percent">
				<div id="close_form101" class="form-edit-close jqmClose tip-left-center" tabindex="">
					<%= image_tag('x_close_white_w20_h20.png', alt: 'X', height: '20px' ) %>
				</div>
				<div class="tip-content">
					<div class="tooltiptext">
						Close
					</div>
				</div>
				<div class="float-clear"></div>
			</div>
		</div>
	</div>
	<div class="dialog-text-align-center">
		<div class="space-height-20"></div>
		<div id="dialog_101_content_container" class="">
		</div>
	</div>
</div>
<div class="jqmWindow jqmWindow-104" id="dialog_104">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form104" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="dialog-msg-container">
				<span>Delete this status?</span>
			</div>
		</div>
	</div>
	<div class="space-height-16"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent text-align-center">
				<span>
				<input id="btn_dlg_submit_delete_post" class="btn-pop-dialog" type="button" value="Delete" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_delete_post" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-20"></div>
</div>
<div class="jqmWindow jqmWindow-105" id="dialog_105">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form105" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="dialog-msg-container">
				<span>Delete this comment?</span>
			</div>
		</div>
	</div>
	<div class="space-height-16"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent text-align-center">
				<span>
				<input id="btn_dlg_submit_delete_comment" class="btn-pop-dialog" type="button" value="Delete" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_delete_comment" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-20"></div>
</div>
<div class="jqmWindow jqmWindow-overlay" id="dialog_overlay">
	<div id="overlay_loading" class="overlay-loading display-none"></div>
</div>
<div class="jqmWindow jqmWindow-11" id="dialog_11">
	<div class="jqmClose ks-tip-container close-container">
		<div class="ks-tip-target">
			<%= image_tag('jqModal/close_btn_round_white_w60_h60.png', alt: 'X', class: 'x-close-60-60' ) %>
		</div>
		<div class="ks-tip ks-tip-pos-left-dialog-11 ks-tip-text-dialog-11">
			Close
		</div>
	</div>
	<div class="float-clear"></div>
	<div class="figure-and-comments">
		<div class="figure-container">
			<figure id="figure_dialog_11" class="dialog-user-image-2">
				<figcaption id="figcaption_dialog_11" class="expand-image">
					<div class="img-2-container image">
						<% if !@publisher_user_image_primary.nil? %>
						<a rel="gallery" title="" href="<%= @publisher_user_image_primary.image_url() + '?' + (rand(10..90) * rand(100..900)).to_s if @publisher_user_image_primary.image? %>">
							<div id="img_2" class="img-2"></div>
						</a>
						<% end %>
					</div>
				</figcaption>
			</figure>
		</div>
		<div class="figure-comments-container"></div>
	</div>
</div>
<!-- user image - upload 12 -->
<div class="jqmWindow jqmWindow-12" id="dialog_12">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form12" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="row">
				<div class="cell-100percent dialog-msg-container">
					<span>Upload Photo</span>
				</div>
			</div>
		</div>
	</div>
	<div class="space-height-12"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent dialog-msg-container">
				<span>
				<input id="btn_dlg_submit_upload_image_primary" class="btn-pop-dialog" type="button" value="Upload" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_upload_image_primary" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-4"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent">
				<div id="dvLoading_12" class="dvLoading-12 dvLoading-display-none"></div>
			</div>
		</div>
	</div>
	<%= form_for UserImage.new, :url => upload_publisher_user_image_primary_publisher_users_path(@publisher_user_image_new), :html => {:multipart => true, :class => 'hidden', :id => 'new_publisher_user_image'}, :remote => true do |f| %>
	<p>
		<%= f.file_field :image, :id => 'new_publisher_user_image_image' %>
	</p>
	<p>
		<%= f.submit :id => 'btn_submit_dialog_12', :class => 'btn-submit hidden', :value => 'Upload Photo' %>
	</p>
	<% end %>
</div>
<!-- user image - change 13 -->
<div class="jqmWindow jqmWindow-13" id="dialog_13">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form13" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="row">
				<div class="cell-100percent dialog-msg-container">
					<span>Change Photo</span>
				</div>
			</div>
		</div>
	</div>
	<div class="space-height-12"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent dialog-msg-container">
				<span>
				<input id="btn_dlg_submit_upload_image_primary_change" class="btn-pop-dialog" type="button" value="Upload" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_upload_image_primary_change" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-4"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent">
				<div id="dvLoading_13" class="dvLoading-13 dvLoading-display-none"></div>
			</div>
		</div>
	</div>
	<%= form_for UserImage.new, :url => upload_publisher_user_image_primary_change_publisher_users_path(@publisher_user_image_new), :html => {:multipart => true, :class => 'hidden', :id => 'change_publisher_user_image'}, :remote => true do |f| %>
	<p>
		<%= f.file_field :image, :id => 'change_publisher_user_image_image' %>
	</p>
	<p>
		<%= f.submit :id => 'btn_submit_dialog_13', :class => 'btn-submit hidden', :value => 'Upload Photo' %>
	</p>
	<% end %>
</div>
<!-- user image - delete 14 -->
<div class="jqmWindow jqmWindow-14" id="dialog_14">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form14" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="dialog-msg-container">
				<span>Delete this photo?</span>
			</div>
		</div>
	</div>
	<div class="space-height-16"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent text-align-center">
				<span>
				<input id="btn_dlg_submit_delete_image_primary" class="btn-pop-dialog" type="button" value="Delete" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_delete_image_primary" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-20"></div>
</div>
<!-- user image - crop 15 -->
<div class="jqmWindow jqmWindow-15" id="dialog_15">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<div class="topbar-title">
			Photo Crop and Center
		</div>
		<div id="close_form15" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-3">
		<div class="table-dialog-1">
			<div class="dialog-msg-container">
				<span>600 X 600 pixels available for maximum size. Below, you may crop and center smaller sizes.</span>
			</div>
		</div>
	</div>
	<div class="space-height-10"></div>
	<div class="image-crop-container">
		<div id="render_publisher_user_image_primary_crop">
			<%= render 'publisher_users/publisher_user_image_primary_crop' %>
		</div>
	</div>
</div>
<!-- logo image - show 21 -->
<div class="jqmWindow jqmWindow-21" id="dialog_21">
	<div class="jqmClose ks-tip-container close-container">
		<div class="ks-tip-target">
			<%= image_tag('jqModal/close_btn_round_white_w60_h60.png', alt: 'X', class: 'x-close-60-60' ) %>
		</div>
		<div class="ks-tip ks-tip-pos-left-dialog-21 ks-tip-text-dialog-21">
			Close
		</div>
	</div>
	<div class="float-clear"></div>
	<div class="figure-and-comments">
		<div class="figure-container">
			<figure id="figure_dialog_21" class="dialog-user-image-2">
				<figcaption id="figcaption_dialog_21" class="expand-image">
					<div class="img-2-container image">
						<% if !@publisher_user_logo_image.nil? %>
						<a rel="gallery" title="" href="<%= @publisher_user_logo_image.image_url() + '?' + (rand(10..90) * rand(100..900)).to_s if @publisher_user_logo_image.image? %>">
							<div id="img_2" class="img-2"></div>
						</a>
						<% end %>
					</div>
				</figcaption>
			</figure>
		</div>
		<div class="figure-comments-container"></div>
	</div>
</div>
<!-- logo image - upload 22 -->
<div class="jqmWindow jqmWindow-22" id="dialog_22">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form22" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="row">
				<div class="cell-100percent dialog-msg-container">
					<span>Upload Company Logo Photo</span>
				</div>
			</div>
		</div>
	</div>
	<div class="space-height-12"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent dialog-msg-container">
				<span>
				<input id="btn_dlg_submit_upload_image_logo" class="btn-pop-dialog" type="button" value="Upload" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_upload_image_logo" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-4"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent">
				<div id="dvLoading_22" class="dvLoading-22 dvLoading-display-none"></div>
			</div>
		</div>
	</div>
	<%= form_for PublisherUserLogoImage.new, :url => upload_publisher_user_logo_image_publisher_users_path(@publisher_user_logo_image_new), :html => {:multipart => true, :class => 'hidden', :id => 'new_publisher_user_logo_image'}, :remote => true do |f| %>
	<p>
		<%= f.file_field :image, :id => 'new_publisher_user_logo_image_image' %>
	</p>
	<p>
		<%= f.submit :id => 'btn_submit_dialog_22', :class => 'btn-submit hidden', :value => 'Upload Photo' %>
	</p>
	<% end %>
</div>
<!-- logo image - change 23 -->
<div class="jqmWindow jqmWindow-23" id="dialog_23">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form23" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="row">
				<div class="cell-100percent dialog-msg-container">
					<span>Change Logo Photo</span>
				</div>
			</div>
		</div>
	</div>
	<div class="space-height-12"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent dialog-msg-container">
				<span>
				<input id="btn_dlg_submit_upload_logo_image_change" class="btn-pop-dialog" type="button" value="Upload" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_upload_logo_image_change" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-4"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent">
				<div id="dvLoading_23" class="dvLoading-23 dvLoading-display-none"></div>
			</div>
		</div>
	</div>
	<%= form_for PublisherUserLogoImage.new, :url => upload_publisher_user_logo_image_change_publisher_users_path(@publisher_user_logo_image_new), :html => {:multipart => true, :class => 'hidden', :id => 'change_publisher_user_logo_image'}, :remote => true do |f| %>
	<p>
		<%= f.file_field :image, :id => 'change_publisher_user_logo_image_image' %>
	</p>
	<p>
		<%= f.submit :id => 'btn_submit_dialog_23', :class => 'btn-submit hidden', :value => 'Upload Photo' %>
	</p>
	<% end %>
</div>
<!-- logo image - delete 24 -->
<div class="jqmWindow jqmWindow-24" id="dialog_24">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<!-- text goes here -->
		<div id="close_form24" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-1">
		<div class="table-dialog-1">
			<div class="dialog-msg-container">
				<span>Delete this photo?</span>
			</div>
		</div>
	</div>
	<div class="space-height-16"></div>
	<div class="table-dialog-1">
		<div class="row">
			<div class="cell-100percent text-align-center">
				<span>
				<input id="btn_dlg_submit_delete_logo_image" class="btn-pop-dialog" type="button" value="Delete" tabindex="">
				</span>
				&nbsp;&nbsp;&nbsp;&nbsp;
				<span>
				<input id="btn_dlg_cancel_delete_logo_image" class="btn-pop-dialog" type="button" value="Cancel" tabindex="">
				</span>
			</div>
		</div>
	</div>
	<div class="space-height-20"></div>
</div>
<!-- logo image - crop 25 -->
<div class="jqmWindow jqmWindow-25" id="dialog_25">
	<div class="dialog-topbar-1">
		<div class="dialog-ks-logo-container">
            <%= image_tag('knowstory-icon-2-w60-h63.png') %>
        </div>
		<div class="topbar-title">
			Photo Crop and Center
		</div>
		<div id="close_form25" class="form-edit-close jqmClose tip-left-center">
			<%= image_tag('x_close_w20_h20.png', alt:'X', height:'20px') %>
		</div>
		<div class="tip-content">
			<div class="tooltiptext">
				Close
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="background-table-dialog-3">
		<div class="table-dialog-1">
			<div class="dialog-msg-container">
				<span>600 X 600 pixels available for maximum size. Below, you may crop and center smaller sizes.</span>
			</div>
		</div>
	</div>
	<div class="space-height-10"></div>
	<div class="image-crop-container">
		<div id="render_publisher_user_logo_image_crop">
			<%= render 'publisher_users/publisher_user_logo_image_crop' %>
		</div>
	</div>
</div>
<div class="space-height-10"></div>
<div class="title-container">
	<div class="title-bar">
		<div class="float-left">
			<span>My Info</span>
		</div>
		<div class="float-right">
			<div class="btn-opt-edit-container-outer">
				<div class="btn-opt-edit-container">
					<div id="open_edit_story_1" class="btn-opt-edit" tabindex="">
						Edit
					</div>
					<div id="close_edit_story_1" class="btn-opt-edit hidden" tabindex="">
						Cancel
					</div>
				</div>
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="table margin-0 space-height-225">
		<div class="row">
			<div class="cell-edit-1 padding-left-1">
				<div class="drop">
					<div id="render_publisher_user_image_primary">
						<%= render 'publisher_users/publisher_user_image_primary' %>
					</div>
				</div>
				<div class="follow-stats-container margin-left-10">
					<%= render 'users/stats' %>
				</div>
			</div>
			<div class="cell-edit-2">
				<div class="table pad-marg-null">
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-3 text-align-left">
							<span class="profile-label-1">Name:</span>
						</div>
						<div class="cell-edit-4 edit-story-1 hidden">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-5 position-relative">
										<div class="position-absolute top-minus-edit-1">
											<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_name_first" name="publisher_user[name_first]" tabindex="10" type="text" value="<%= @user.name_first %>" placeholder="First Name" />
										</div>
									</div>
									<div class="cell-edit-5 position-relative">
										<div class="position-absolute top-minus-edit-1">
											<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_name_last" name="publisher_user[name_last]" tabindex="11" type="text" value="<%= @user.name_last %>" placeholder="Last Name" />
										</div>
									</div>
									<div class="cell-25"></div>
								</div>
							</div>
						</div>
						<div class="cell-edit-4 show-story-1">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative text-align-left">
										<div class="position-absolute top-minus-edit-2">
											<span id="span_publisher_user_name_first" class="profile-text-1"></span>
											&nbsp;&nbsp;
											<span id="span_publisher_user_name_last" class="profile-text-1"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-3 text-align-left">
							<span class="profile-label-1">Email:</span>
						</div>
						<div class="cell-edit-4 edit-story-1 hidden">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative">
										<div class="position-absolute top-minus-edit-1">
											<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_email" name="publisher_user[email]" tabindex="12" type="text" value="<%= @publisher_user.email %>" placeholder="Email" />
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="cell-edit-4 show-story-1">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative text-align-left">
										<div class="position-absolute top-minus-edit-2">
											<span id="span_publisher_user_email" class="profile-text-1"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-3 text-align-left">
							<span class="profile-label-1">Location:</span>
						</div>
						<div class="cell-edit-4 edit-story-1 hidden">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative">
										<div class="position-absolute top-minus-edit-1">
											<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_location" name="publisher_user[location]" tabindex="13" type="text" value="<%= @publisher_user.location %>" placeholder="Location" />
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="cell-edit-4 show-story-1">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative text-align-left">
										<div class="position-absolute top-minus-edit-2">
											<span id="span_publisher_user_location" class="profile-text-1"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-3 text-align-left">
							<span class="profile-label-1">Alias:</span>
						</div>
						<div class="cell-edit-4 edit-story-1 hidden">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative">
										<div class="position-absolute top-minus-edit-1">
											<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_name_alias" name="publisher_user[name_alias]" tabindex="14" type="text" value="<%= @publisher_user.name_alias %>" placeholder="User Alias" />
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="cell-edit-4 show-story-1">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-4 position-relative text-align-left">
										<div class="position-absolute top-minus-edit-2">
											<span id="span_publisher_user_name_alias" class="profile-text-1"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="space-height-4"></div>
	<div class="table pad-marg-edit-1 space-height-200">
		<div class="row">
			<div class="cell-edit-2">
				<div class="table pad-marg-null">
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-2">
							<div class="table pad-marg-null">
								<div class="row">
									<div class="cell-edit-6 text-align-left pad-left-20">
										<span class="profile-label-1">Job Title:</span>
									</div>
									<div class="cell-edit-7 edit-story-1 hidden">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative">
													<div class="position-absolute top-minus-edit-1 right-0">
														<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_job_title" name="publisher_user[job_title]" tabindex="15" type="text" value="<%= @publisher_user.job_title %>" placeholder="Job Title" />
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="cell-edit-7 show-story-1">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative text-align-left">
													<div class="position-absolute top-minus-edit-2">
														<span id="span_publisher_user_job_title" class="profile-text-1"></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-2">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-6 text-align-left pad-left-20">
										<span class="profile-label-1">Company:</span>
									</div>
									<div class="cell-edit-7 edit-story-1 hidden">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative">
													<div class="position-absolute top-minus-edit-1 right-0">
														<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_name_company" name="publisher_user[name_company]" tabindex="16" type="text" value="<%= @publisher_user.name_company %>" placeholder="Company" />
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="cell-edit-7 show-story-1">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative text-align-left">
													<div class="position-absolute top-minus-edit-2">
														<span id="span_publisher_user_name_company" class="profile-text-1"></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-2">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-6 text-align-left pad-left-20">
										<span class="profile-label-1">Website:</span>
									</div>
									<div class="cell-edit-7 edit-story-1 hidden">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative">
													<div class="position-absolute top-minus-edit-1 right-0">
														<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_website" name="publisher_user[website]" tabindex="18" type="text" value="<%= @publisher_user.website %>" placeholder="MyCompany@here.com" />
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="cell-edit-7 show-story-1">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative text-align-left">
													<div class="position-absolute top-minus-edit-2">
														<span id="span_publisher_user_website" class="profile-text-1"></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row space-height-12"></div>
					<div class="row pad-marg-null">
						<div class="cell-edit-2">
							<div class="table pad-marg-null">
								<div class="row pad-marg-null">
									<div class="cell-edit-6 text-align-left pad-left-20">
										<span class="profile-label-1">Phone:</span>
									</div>
									<div class="cell-edit-7 edit-story-1 hidden">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative">
													<div class="position-absolute top-minus-edit-1 right-0">
														<input class="input-profile-1 input-profile-color-1 width-edit-1 height-edit-1" id="publisher_user_phone_company" name="publisher_user[phone_company]" tabindex="19" type="text" value="<%= @publisher_user.phone_company %>" placeholder="555-555-5555" />
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="cell-edit-7 show-story-1">
										<div class="table pad-marg-null">
											<div class="row pad-marg-null">
												<div class="cell-edit-7 position-relative text-align-left">
													<div class="position-absolute top-minus-edit-2">
														<span id="span_publisher_user_phone_company" class="profile-text-1"></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="cell-edit-1" id="container_logo_image">
				<div class="float-right">
					<div id="render_publisher_user_logo_image">
						<%= render 'publisher_users/publisher_user_logo_image' %>
					</div>
				</div>
				<div class="float-clear"></div>
			</div>
		</div>
	</div>
	<div class="space-height-10"></div>
	<div class="btn-save-cancel-container">
		<div class="table">
			<div class="row">
				<div id="btns_edit_story_1" class="cell-700 visibility-hidden">
					<div id="cancel_edit_story_1" class="btn-submit-story-1" tabindex="51">
						Cancel
					</div>
					<div id="submit_edit_story_1" class="btn-submit-story-1" tabindex="52">
						Save
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="space-height-10"></div>
<div class="title-container">
	<div class="title-bar">
		<div class="float-left">
			<span>My Interests</span>
		</div>
		<div class="float-right">
			<div class="btn-opt-edit-container-outer">
				<div class="btn-opt-edit-container">
					<div id="open_edit_story_3" class="btn-opt-edit" tabindex="">
						Edit
					</div>
					<div id="close_edit_story_3" class="btn-opt-edit hidden" tabindex="">
						Cancel
					</div>
				</div>
			</div>
		</div>
		<div class="float-clear"></div>
	</div>
	<div class="table margin-0">
		<div class="row">
			<div class="cell-100percent">
				<div class="space-height-10"></div>
				<div class="edit-story-3 hidden">
					<% if false %>
					<div class="pad-left-20">
						<%= form_tag url_for(:controller => :publisher_users, :action => :update_story_3), :remote => true do %>
						<%= text_area_tag :story_interest, @publisher_user.story_interest, :class => 'resize-none input-profile-1 input-profile-color-1 profile-text-1 width-660 height-200', :placeholder => 'My KnowStory Plot', :spellcheck => false %>
						<%= submit_tag 'Save', :id => 'submit_edit_story_3_hidden', :class => 'hidden' %>
						<% end %>
					</div>
					<% end %>
					<%= form_for PublisherUserInterest.new, :url => update_publisher_user_interest_publisher_users_path(@publisher_user_interest_new), :html => {:multipart => true, :class => '', :id => 'new_publisher_user_interest'}, :remote => true do |f| %>
					<%= f.hidden_field :interest_text %>
					<%= f.submit :id => 'submit_story_3_hidden', :class => 'btn-submit hidden', :value => '' %>
					<% end %>
					<div id="textarea_publisher_user_interest_containter_edit" class="textarea-user-interest-container-edit toggle-user-interest" tabindex="">
						<div id="render_publisher_user_interest_image_edit" class="render-user-interest-image"></div>
						<div id="textarea_publisher_user_interest_edit" class="textarea-user-interest textarea-user-interest-edit toggle-user-interest" contenteditable="true" tabindex=""></div>
					</div>
					<div class="btn-textarea-user-interest-story-3-container hidden">
						<div class="space-height-10"></div>
						<div id="drop_container_story_3_attach" class="drop float-left width-200">
							<% if false %>
							<%= render 'publisher_users/publisher_user_interest_attach_menu' %>
							<%= form_for PublisherUserInterestImage.new, :url => upload_publisher_user_interest_image_publisher_users_path(@publisher_user_interest_image_new), :html => {:multipart => true, :class => 'hidden', :id => 'new_publisher_user_interest_image'}, :remote => true do |f| %>
							<p>
								<%= f.file_field :image, :id => 'new_publisher_user_interest_image_image' %>
							</p>
							<p>
								<%= f.submit :id => 'btn_submit_publisher_user_interest_image', :class => 'btn-submit hidden', :value => '' %>
							</p>
							<% end %>
							<% end %>
						</div>
						<div id="submit_story_3" class="btn-submit-story-3 float-right toggle-user-interest" tabindex="">
							<div id="submit_story_3_text" class="submit-edit-story-3-text-2">
								Save
							</div>
							<div id="submit_story_3_loader" class="submit-edit-story-3-loader hidden"></div>
						</div>
						<div class="float-right btn-save-cancel-space-6"></div>
						<div id="cancel_story_3" class="btn-submit-story-1 float-right toggle-user-interest" tabindex="">
							<div id="cancel_story_3_text" class="submit-edit-story-3-text">
								Cancel
							</div>
							<div id="cancel_story_3_loader" class="submit-edit-story-3-loader hidden"></div>
						</div>
					</div>
				</div>
				<div class="show-story-3">
					<div class="textarea-user-interest-container">
						<div id="render_publisher_user_interest_image" class="render-user-interest-image"></div>
						<div id="textarea_publisher_user_interest" class="textarea-user-interest textarea-user-interest-show" tabindex=""></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="space-height-10"></div>
<div class="table-profile">
	<div class="row-profile">
		<div class="profile-left-col">
			<div class="space-height-20"></div>
			<div class="publisher-item-border">
				<div class="space-height-20"></div>
			</div>
			<!-- End border div -->
			<div style="width: 550px; border-bottom: 2px solid #eee;"></div>
			<div id="coming-soon">
				<p class="title-grey">
					My Connections <span>(Coming Soon)</span>
				</p>
			</div>
			<div id="coming-soon">
				<p class="title-grey">
					My Groups <span>(Coming Soon)</span>
				</p>
			</div>
			<div id="coming-soon" style="height:325px;">
				<p class="title-grey">
					My Wishlist <span>(Coming Soon)</span>
				</p>
			</div>
			<div id="coming-soon" style="">
				<p class="title-grey">
					KnowCred <span>(Coming Soon)</span>
				</p>
			</div>
			<div id="coming-soon" style="">
				<p class="title-grey">
					Points &amp; Awards <span>(Coming Soon)</span>
				</p>
			</div>
			<div id="coming-soon" style="height:325px;">
				<p class="title-grey">
					My Apps &amp; Things <span>(Coming Soon)</span>
				</p>
			</div>
		</div>
	</div>
</div>
<script>
	// *****
	// full screen image gallery
	// $(function(){
	// $(window).load( function() {
	$(document).ready(function() {
		// $('.image img').fullscreenslides();
		$('.image div').fullscreenslides();
		var $container = $('#fullscreenSlideshowContainer');
		$container.bind("init", function() {
			$container.append('<div class="ui" id="fs-close">&times;</div>').append('<div class="ui" id="fs-loader">Loading...</div>');
			// .append('<div class="ui" id="fs-prev">&lt;</div>')
			// .append('<div class="ui" id="fs-next">&gt;</div>')
			// .append('<div class="ui" id="fs-caption"><span></span></div>');
			// $('#fs-prev').click(function(){
			// $container.trigger("prevSlide");
			// });
			// $('#fs-next').click(function(){
			// $container.trigger("nextSlide");
			// });
			$('#fs-close').click(function() {
				$container.trigger("close");
			});
		}).bind("startLoading", function() {
			$('#fs-loader').show();
		}).bind("stopLoading", function() {
			$('#fs-loader').hide();
		});
		// .bind("startOfSlide", function(event, slide) {
		// $('#fs-caption span').text(slide.title);
		// $('#fs-caption').show();
		// })
		// .bind("endOfSlide", function(event, slide) {
		// $('#fs-caption').hide();
		// });
	});
</script>
<script>
	// *****
	// post_user_like
	function create_post_user_like(id, nlist) {
		// alert("create_post_user_like(post_user_id)");
		var formData = {
			post_user_id: id,
			n_list: nlist
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/create_post_user_like',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}

	function delete_post_user_like(id, nlist) {
		// alert("delete_post_user_like(post_user_id)");
		var formData = {
			post_user_id: id,
			n_list: nlist
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/destroy_post_user_like',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}
</script>
<script>
	// *****
	// post_user
	var b_edit_post_user = false;
	var post_user_id_delete = null;

	function edit_textarea_post_user() {
		b_edit_post_user = true;
		$("#textarea_add_post_user").removeClass("textarea-add-post-user-inactive").addClass("textarea-add-post-user-active");
		$(".btn-textarea-add-post-user-story-4-container").removeClass("hidden");
	}

	function reset_textarea_post_user() {
		$("#render_post_user_image").html("");
		$("#textarea_add_post_user").html("<br>");
		$(".btn-textarea-add-post-user-story-4-container").addClass("hidden");
		$("#textarea_add_post_user").removeClass("textarea-add-post-user-active").addClass("textarea-add-post-user-inactive");
		// $("#textarea_add_post_user").focus();
		// if ($ttpost != null) {
		b_edit_post_user = false;
		// $bbpost.addClass("hidden");
		// $ttpost.removeClass("textarea-add-post-user-active").addClass("textarea-add-post-user-inactive");
		// $ttpost.html("<br>");
		// $ttpost.focus();
		// $ttpost = null;
		// $bbpost = null;
		// }
	}

	function delete_post_user(id) {
		// alert("delete_post_user");
		var formData = {
			post_user_id: id
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/destroy_post_user',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}

	function cancel_post_user() {
		// alert("delete_post_user");
		// var formData = {post_user_id:id};
		$.ajax({
			type: 'POST',
			// data : formData,
			url: '/publisher_users/cancel_post_user',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}

	function cancel_post_user_on_close() {
		var w = $("#render_post_user_image").html();
		if(!((w == "<br>") || (w == ""))) {
			$.ajax({
				type: 'POST',
				url: '/publisher_users/cancel_post_user_on_close',
				dataType: "script",
				async: false,
				beforeSend: function(xhr) {
						xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
					} // ,
			});
		}
	}
	var drop_story_4_attach_visible = false;
	var btn_1_drop_add_post_user_image_clicked = false;

	function drop_story_4_attach_show() {
		$("#drop_story_4_attach").addClass('drop');
		$("#container_drop_story_4_attach").removeClass('hidden');
		$("#drop_story_4_attach div div.dropdownContain div.dropOut").fadeIn(200, function() {
			$(this).css({
				'margin-top': 10
			});
		});
		$("#caret_story_4_attach").removeClass("nav-caret-down").addClass("nav-caret-up");
		drop_story_4_attach_visible = true;
	}

	function drop_story_4_attach_hide() {
		// alert('drop_story_4_attach_hide');
		$("#drop_story_4_attach").removeClass('drop');
		$("#container_drop_story_4_attach").addClass('hidden');
		drop_story_4_attach_visible = false;
		// $("#render_nav_avatar").removeClass("avatar-focus");
		// $("#nav_caret_container").removeClass("nav-caret-focus");
		$("#drop_story_4_attach div div.dropdownContain div.dropOut").css({
			'margin-top': 0
		});
		$("#caret_story_4_attach").removeClass("nav-caret-up").addClass("nav-caret-down");
		if(btn_1_drop_add_post_user_image_clicked == true) {
			btn_1_drop_add_post_user_image_clicked = false;
			// alert('btn_1_drop_add_post_user_image_clicked == true');
			$("form#new_post_user_image input#new_post_user_image_image").click();
		}
	}

	function drop_toggle_story_4_attach() {
		if(drop_story_4_attach_visible) {
			drop_story_4_attach_hide();
		} else {
			drop_story_4_attach_show();
		}
	}
</script>
<script>
	// *****
	// post_user_comment
	var post_user_comment_comment_id_delete = null;
	var post_user_comment_post_user_id_delete = null;

	function delete_post_user_comment() {
		// alert("delete_post_user_comment");
		var formData = {
			post_user_comment_id: post_user_comment_comment_id_delete,
			post_user_id: post_user_comment_post_user_id_delete
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/destroy_post_user_comment',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}

	function reset_post_user_comment_delete() {
		post_user_comment_comment_id_delete = null;
		post_user_comment_post_user_id_delete = null;
	}
	var a_comments = [];

	function edit_textarea_comment($t, $b) {
		// textarea_add_comment_<#%= post_user.id %#>
		// btn_add_comment_<#%= post_user.id %#>
		b_comments = [];
		var is_open = false;
		for(i = 0; i < a_comments.length; i++) {
			var $t_held = a_comments[i][0];
			if($t.attr("id") == $t_held.attr("id")) {
				is_open = true;
			} else {
				var $b_held = a_comments[i][1];
				var v = $t_held.html();
				if((v == "<br>") || (v == "")) {
					$b_held.addClass("hidden");
					$t_held.removeClass("add-comment-container-active").addClass("add-comment-container-inactive");
					$t_held.html("<br>");
				} else {
					var b = [];
					b.push($t_held);
					b.push($b_held);
					b_comments.push(b);
				}
			}
		}
		var c = [];
		c.push($t);
		c.push($b);
		b_comments.push(c);
		if(!is_open) {
			$t.removeClass("add-comment-container-inactive").addClass("add-comment-container-active");
			$b.removeClass("hidden");
		}
		a_comments = b_comments;
	}

	function reset_textarea_comment() {
		b_comments = [];
		for(i = 0; i < a_comments.length; i++) {
			$t = a_comments[i][0];
			$b = a_comments[i][1];
			var v = $t.html();
			if((v == "<br>") || (v == "")) {
				$b.addClass("hidden");
				$t.removeClass("add-comment-container-active").addClass("add-comment-container-inactive");
				$t.html("<br>");
			} else {
				var b = [];
				b.push($t);
				b.push($b);
				b_comments.push(b);
			}
		}
		a_comments = b_comments;
	}

	function reset_textarea_comment_callback(post_user_id) {
		var t_id = "textarea_add_comment_" + post_user_id;
		b_comments = [];
		for(i = 0; i < a_comments.length; i++) {
			var $t_held = a_comments[i][0];
			if(!(t_id == $t_held.attr("id"))) {
				var b = [];
				var $b_held = a_comments[i][1];
				b.push($t_held);
				b.push($b_held);
				b_comments.push(b);
			}
		}
		a_comments = b_comments;
		var $t = $("#" + t_id);
		var b_id = "#btn_add_comment_" + post_user_id;
		var $b = $(b_id);
		$b.addClass("hidden");
		$t.removeClass("add-comment-container-active").addClass("add-comment-container-inactive");
		$t.html("<br>");
		$t.focus();
	}
</script>
<script>
	// function getScrollPos() {
	// return $(window).scrollTop();
	// }
	var user_slug = <%= @user.slug %> ;
	var scroll_top = 0;
</script>
<script>
	// *****
	// publisher_user_interest
	function show_edit_story_3() {
		$("#open_edit_story_3, .show-story-3").fadeOut(200, function() {
			$("#open_edit_story_3").addClass("hidden");
			$("#close_edit_story_3").fadeIn(200).removeClass("hidden");
			$(".show-story-3").addClass("hidden");
			$(".edit-story-3").fadeIn(300).removeClass("hidden");
			// $("#btns_edit_story_3").fadeIn(200).removeClass("visibility-hidden");
		});
	}

	function cancel_edit_story_3() {
		$(".edit-story-3").fadeOut(200, function() {
			$(".edit-story-3").addClass("hidden");
			$(".show-story-3").removeClass("hidden").fadeIn(300);
			$("#open_edit_story_3").removeClass("hidden").fadeIn(200);
			$("#close_edit_story_3").addClass("hidden");
			// $("#btns_edit_story_1").removeAttr("style");
			// $("#btns_edit_story_1").addClass("hidden");
			// $("#btns_edit_story_3").addClass("visibility-hidden");
		});
	}
</script>
<script type="text/javascript">
	// *****
	// html textarea - post_user
	var savedRange_post_user, isInFocus_post_user;

	function saveSelection_post_user() {
		if(window.getSelection) //non IE Browsers
		{
			savedRange_post_user = window.getSelection().getRangeAt(0);
		} else if(document.selection) //IE
		{
			savedRange_post_user = document.selection.createRange();
		}
	}

	function restoreSelection_post_user() {
			isInFocus_post_user = true;
			document.getElementById("textarea_add_post_user").focus();
			if(savedRange_post_user != null) {
				if(window.getSelection) //non IE and there is already a selection
				{
					var s = window.getSelection();
					if(s.rangeCount > 0) s.removeAllRanges();
					s.addRange(savedRange_post_user);
				} else if(document.createRange) //non IE and no selection
				{
					window.getSelection().addRange(savedRange_post_user);
				} else if(document.selection) //IE
				{
					savedRange_post_user.select();
				}
			}
		}
		//this part onwards is only needed if you want to restore selection onclick
	var isInFocus_post_user = false;

	function onDivBlur_post_user() {
		isInFocus_post_user = false;
	}

	function cancelEvent_post_user(e) {
		if(isInFocus_post_user == false && savedRange_post_user != null) {
			if(e && e.preventDefault) {
				//alert("FF");
				e.stopPropagation();
				// DOM style (return false doesn't always work in FF)
				e.preventDefault();
			} else {
				window.event.cancelBubble = true;
				//IE stopPropagation
			}
			restoreSelection_post_user();
			return false;
			// false = IE style
		}
	}

	function insertTextAtCursor_post_user(text) {
		var sel, range, html;
		if(window.getSelection) {
			sel = window.getSelection();
			if(sel.getRangeAt && sel.rangeCount) {
				range = sel.getRangeAt(0);
				range.deleteContents();
				range.insertNode(document.createTextNode(text));
				range.collapse(false);
			}
		} else if(document.selection && document.selection.createRange) {
			document.selection.createRange().text = text;
		}
	}
</script>
<script type="text/javascript">
	// *****
	// html textarea - publisher_user_plot
	var savedRange_publisher_user_plot, isInFocus_publisher_user_plot;

	function saveSelection_publisher_user_plot() {
		if(window.getSelection) //non IE Browsers
		{
			savedRange_publisher_user_plot = window.getSelection().getRangeAt(0);
		} else if(document.selection) //IE
		{
			savedRange_publisher_user_plot = document.selection.createRange();
		}
	}

	function restoreSelection_publisher_user_plot() {
			isInFocus_publisher_user_plot = true;
			document.getElementById("textarea_publisher_user_plot_edit").focus();
			if(savedRange_publisher_user_plot != null) {
				if(window.getSelection) //non IE and there is already a selection
				{
					var s = window.getSelection();
					if(s.rangeCount > 0) s.removeAllRanges();
					s.addRange(savedRange_publisher_user_plot);
				} else if(document.createRange) //non IE and no selection
				{
					window.getSelection().addRange(savedRange_publisher_user_plot);
				} else if(document.selection) //IE
				{
					savedRange_publisher_user_plot.select();
				}
			}
		}
		//this part onwards is only needed if you want to restore selection onclick
	var isInFocus_publisher_user_plot = false;

	function onDivBlur_publisher_user_plot() {
		isInFocus_publisher_user_plot = false;
	}

	function cancelEvent_publisher_user_plot(e) {
		if(isInFocus_publisher_user_plot == false && savedRange_publisher_user_plot != null) {
			if(e && e.preventDefault) {
				//alert("FF");
				e.stopPropagation();
				// DOM style (return false doesn't always work in FF)
				e.preventDefault();
			} else {
				window.event.cancelBubble = true;
				//IE stopPropagation
			}
			restoreSelection_publisher_user_plot();
			return false;
			// false = IE style
		}
	}

	function insertTextAtCursor_publisher_user_plot(text) {
		var sel, range, html;
		if(window.getSelection) {
			sel = window.getSelection();
			if(sel.getRangeAt && sel.rangeCount) {
				range = sel.getRangeAt(0);
				range.deleteContents();
				range.insertNode(document.createTextNode(text));
				range.collapse(false);
			}
		} else if(document.selection && document.selection.createRange) {
			document.selection.createRange().text = text;
		}
	}
</script>
<script type="text/javascript">
	// *****
	// html textarea - publisher_user_interest
	var savedRange_publisher_user_interest, isInFocus_publisher_user_interest;

	function saveSelection_publisher_user_interest() {
		if(window.getSelection) //non IE Browsers
		{
			savedRange_publisher_user_interest = window.getSelection().getRangeAt(0);
		} else if(document.selection) //IE
		{
			savedRange_publisher_user_interest = document.selection.createRange();
		}
	}

	function restoreSelection_publisher_user_interest() {
			isInFocus_publisher_user_interest = true;
			document.getElementById("textarea_publisher_user_interest_edit").focus();
			if(savedRange_publisher_user_interest != null) {
				if(window.getSelection) //non IE and there is already a selection
				{
					var s = window.getSelection();
					if(s.rangeCount > 0) s.removeAllRanges();
					s.addRange(savedRange_publisher_user_interest);
				} else if(document.createRange) //non IE and no selection
				{
					window.getSelection().addRange(savedRange_publisher_user_interest);
				} else if(document.selection) //IE
				{
					savedRange_publisher_user_interest.select();
				}
			}
		}
		//this part onwards is only needed if you want to restore selection onclick
	var isInFocus_publisher_user_interest = false;

	function onDivBlur_publisher_user_interest() {
		isInFocus_publisher_user_interest = false;
	}

	function cancelEvent_publisher_user_interest(e) {
		if(isInFocus_publisher_user_interest == false && savedRange_publisher_user_interest != null) {
			if(e && e.preventDefault) {
				//alert("FF");
				e.stopPropagation();
				// DOM style (return false doesn't always work in FF)
				e.preventDefault();
			} else {
				window.event.cancelBubble = true;
				//IE stopPropagation
			}
			restoreSelection_publisher_user_interest();
			return false;
			// false = IE style
		}
	}

	function insertTextAtCursor_publisher_user_interest(text) {
		var sel, range, html;
		if(window.getSelection) {
			sel = window.getSelection();
			if(sel.getRangeAt && sel.rangeCount) {
				range = sel.getRangeAt(0);
				range.deleteContents();
				range.insertNode(document.createTextNode(text));
				range.collapse(false);
			}
		} else if(document.selection && document.selection.createRange) {
			document.selection.createRange().text = text;
		}
	}
</script>
<!-- <script>
	// *****
	// absolute mouse position
	
	(function($){
	$.mlp = {x:0,y:0}; // Mouse Last Position
	function documentHandler(){
	var $current = this === document ? $(this) : $(this).contents();
	$current.mousemove(function(e){jQuery.mlp = {x:e.pageX,y:e.pageY}});
	$current.find("iframe").load(documentHandler);
	}
	$(documentHandler);
	$.fn.ismouseover = function(overThis) {
	// alert('called');
	var result = false;
	this.eq(0).each(function() {
	// var $current = $(this).is("iframe") ? $(this).contents().find("body") : $(this);
	var $current = $(this);
	// var $current = $("#profile_figure");
	var offset = $current.offset();
	// alert($.mlp.x);
	// alert(offset.left);
	
	result = (offset.left <= $.mlp.x) && ((offset.left + $current.outerWidth()) > $.mlp.x) && (offset.top <= $.mlp.y) && ((offset.top + $current.outerHeight()) > $.mlp.y);
	
	// result = 2 > 1;
	
	// if ((offset.left <= $.mlp.x) && ((offset.left + $current.outerWidth()) > $.mlp.x) && (offset.top <= $.mlp.y) && ((offset.top + $current.outerHeight()) > $.mlp.y)) {
	// result = true;
	// }
	// else {
	// result = true;
	// }
	});
	// return "just return this";
	// if (result) {
	// alert('true');
	// }
	// else {
	// alert('false');
	// }
	return result;
	};
	})(jQuery);
	
	// function ismouseover(obj) {
	// var result = false;
	// this.eq(0).each(function() {
	// var $current = $(this).is("iframe") ? $(this).contents().find("body") : $(this);
	// // var $current = $(this);
	// // var $current = $("#profile_figure");
	// var offset = $current.offset();
	// result =    offset.left<=$.mlp.x && offset.left + $current.outerWidth() > $.mlp.x &&
	// offset.top<=$.mlp.y && offset.top + $current.outerHeight() > $.mlp.y;
	// });
	// return result;
	// // alert('called');
	// // return obj.attr("id");
	// }
	
	</script> -->
<script>
	// *****
	// story 6 user info
	function show_edit_story_6() {
		$("#open_edit_story_6, .show-story-6").fadeOut(200, function() {
			$("#open_edit_story_6").addClass("hidden");
			$("#close_edit_story_6").fadeIn(200).removeClass("hidden");
			$(".show-story-6").addClass("hidden");
			$(".edit-story-6").fadeIn(300).removeClass("hidden");
			$("#btns_edit_story_6").fadeIn(200).removeClass("visibility-hidden");
			$("#user_name_first").focus();
		});
	}

	function cancel_edit_story_6() {
		$(".edit-story-6").fadeOut(200, function() {
			$(".edit-story-6").addClass("hidden");
			$(".show-story-6").removeClass("hidden").fadeIn(300);
			$("#open_edit_story_6").removeClass("hidden").fadeIn(200);
			$("#close_edit_story_6").addClass("hidden");
			$("#btns_edit_story_6").addClass("visibility-hidden");
		});
	}
	var rd_gender_clicked = false;
	$("#user_gender_0").on("change", function() {
		// $('#user_address').focus();
		if(rd_gender_clicked == false) {
			validateRadio1();
			rd_gender_clicked = true;
		}
	});
	$("#user_gender_1").on("change", function() {
		// $('#user_address').focus();
		if(rd_gender_clicked == false) {
			validateRadio1();
			rd_gender_clicked = true;
		}
	});
	// function validateRadio1() {
	// return isChecked;
	// }
	function set_rd_1() {
		var rd = "#user_gender_0";
		var sd = "#rd_gender_male";
		$(rd).prop('checked', true);
		$(sd).addClass("rd-background");
	}

	function unset_rd_1() {
		var sd = "#rd_gender_male";
		$(sd).removeClass("rd-background");
	}

	function set_rd_2() {
		var rd = "#user_gender_1";
		var sd = "#rd_gender_female";
		$(rd).prop('checked', true);
		$(sd).addClass("rd-background");
	}

	function unset_rd_2() {
		var sd = "#rd_gender_female";
		$(sd).removeClass("rd-background");
	}

	function rd_gender(caller) {
		switch(caller) {
			case 'male':
				set_rd_1();
				unset_rd_2();
				break;
			case 'female':
				set_rd_2();
				unset_rd_1();
				break;
			default:
				//
		}
		// if (rd_gender_clicked == false) {
		// validateRadio1();
		// rd_gender_clicked = true;
		// }
	}
</script>
<script>
	// *****
	// likes
	function create_log_user_like(id, nlist) {
		// alert("create_post_user_like(post_user_id)");
		var formData = {
			post_user_id: id,
			n_list: nlist
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/create_log_user_like',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}

	function delete_log_user_like(id, nlist) {
		// alert("delete_post_user_like(post_user_id)");
		var formData = {
			post_user_id: id,
			n_list: nlist
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/destroy_log_user_like',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}
</script>
<script>
	// *****
	// user_image_primary
	var id_image = null;

	function closeShowPhotoPrimary() {
		$("#close_form11").trigger('click');
	};

	function closeShowImageLogo() {
		$("#close_form21").trigger('click');
	};

	function closeAddImagePrimary() {
		// alert('closeAddImagePrimary()');
		$("#dvLoading_12").addClass("dvLoading-display-none");
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $(".dropdownContain").removeClass("hidden");
		// $(".container-figure figure").removeClass("cursor-pointer");
		// $("#drop_container_user_image_primary").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form12").trigger('click');
		$("form#new_publisher_user_image input#new_publisher_user_image_image").val('');
	};

	function closeChangeImagePrimary() {
		$("#dvLoading_13").addClass("dvLoading-display-none");
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_user_image_primary").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form13").trigger('click');
		$("form#change_publisher_user_image input#change_publisher_user_image_image").val('');
	};

	function closeDeleteImagePrimary() {
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_user_image_primary").addClass("drop");
		// $("#figcaption_image_primary_generic").removeClass("hidden");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form14").trigger('click');
		// jQuery(document).trigger( click_delete_image_primary );
	};

	function closeCropImagePrimary() {
		// alert('closeCropImagePrimary()');
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_user_image_primary").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form15").trigger('click');
	};

	function delete_image_primary(id_image) {
		// var input_user_name_first = $("#user_name_first").val();
		// var obj_list = '{"publisher_product_description_id":' + <#%= @publisher_product_description_id %#> +
		// ', "publisher_product_id":' + <#%= @publisher_product_id %#> +
		// ', "publisher_id":' + <#%= @publisher_id %#> +
		// ', "name_first":"' + input_publisher_product_description_name_first +
		// '"}';
		var formData = {
			id: id_image
		};
		// $.ajax({
		// url : "AJAX_POST_URL",
		// type: "POST",
		// data : formData,
		// success: function(data, textStatus, jqXHR)
		// {
		// //data - response from server
		// },
		// error: function (jqXHR, textStatus, errorThrown)
		// {
		// }
		// });
		// var input_user_name_first = "Clyde";
		// var input_id_image = id_image;
		// var obj_list = '{"name_first":"' + input_user_name_first +
		// '"}';
		// var obj_list = '{"id_image":' + input_id_image +
		// '}';
		// var obj = '{ "publisher_user": [' +  obj_list + '] }';
		$.ajax({
			type: 'POST',
			// data : JSON.stringify(obj),
			// data : obj,
			data: formData,
			url: '/publisher_users/destroy_publisher_user_image',
			// dataType: "json",
			// contentType: "application/json",
			dataType: "script",
			// contentType: "application/js",
			// processData: false,
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
		// return false;
	}

	function crop_image_primary() {
		var input_image_id = $("#image_id").val();
		var input_crop_x = $("#id_crop_x").val();
		var input_crop_y = $("#id_crop_y").val();
		var input_crop_w = $("#id_crop_w").val();
		var input_crop_h = $("#id_crop_h").val();
		var formData = {
			image_id: input_image_id,
			crop_x: input_crop_x,
			crop_y: input_crop_y,
			crop_w: input_crop_w,
			crop_h: input_crop_h
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/crop_commit_user',
			// cache: false,
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful crop");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
		// return false;
	}
</script>
<script>
	// *****
	// publisher_user_log_image_primary
	var id_image_logo = null;

	function closeAddLogoImage() {
		// alert('closeAddLogoImage()');
		$("#dvLoading_22").addClass("dvLoading-display-none");
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_logo_image").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form22").trigger('click');
		$("form#new_publisher_user_logo_image input#new_publisher_user_logo_image_image").val('');
	};

	function closeChangeLogoImage() {
		$("#dvLoading_23").addClass("dvLoading-display-none");
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_logo_image").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form23").trigger('click');
		$("form#change_publisher_user_logo_image input#change_publisher_user_logo_image_image").val('');
	};

	function closeDeleteLogoImage() {
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_logo_image").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form24").trigger('click');
	};

	function closeCropLogoImage() {
		$(".edit-image").fadeIn(200).removeClass("hidden");
		// $("#drop_container_logo_image").addClass("drop");
		// $(".container-menu .dropdownContain").removeClass("hidden");
		$("#close_form25").trigger('click');
	};

	function delete_logo_image(id_image) {
		var formData = {
			id: id_image
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/destroy_publisher_user_logo_image',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}

	function crop_image_logo() {
		var input_image_id = $("#image_id_logo").val();
		var input_crop_x = $("#id_crop_x_logo").val();
		var input_crop_y = $("#id_crop_y_logo").val();
		var input_crop_w = $("#id_crop_w_logo").val();
		var input_crop_h = $("#id_crop_h_logo").val();
		var formData = {
			image_id: input_image_id,
			crop_x: input_crop_x,
			crop_y: input_crop_y,
			crop_w: input_crop_w,
			crop_h: input_crop_h
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/publisher_users/crop_commit_logo',
			// cache: false,
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful crop");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
		// return false;
	}
</script>
<script>
	// *****
	// story 1 publisher_user info
	function show_edit_story_1() {
		$("#open_edit_story_1, .show-story-1").fadeOut(200, function() {
			$("#open_edit_story_1").addClass("hidden");
			$("#close_edit_story_1").fadeIn(200).removeClass("hidden");
			$(".show-story-1").addClass("hidden");
			$(".edit-story-1").fadeIn(300).removeClass("hidden");
			// $("#btns_edit_story_1").fadeIn(200).removeClass("hidden");
			$("#btns_edit_story_1").fadeIn(200).removeClass("visibility-hidden");
			$(".edit-image").fadeIn(200).removeClass("hidden");
			$(".container-figure figure").removeClass("cursor-pointer");
			$(".container-figure-logo figure").removeClass("cursor-pointer");
			$(".container-figure-image-1").removeClass("container-figure-image-border").addClass("container-figure-image-border-edit");
			$(".container-figure-image-2").removeClass("container-figure-image-border").addClass("container-figure-image-border-edit");
			// $("#drop_container_user_image_primary").addClass("drop");
			// $("#drop_container_logo_image").addClass("drop");
			// $(".container-menu .dropdownContain").removeClass("hidden");
			// $(".drop-1-container").removeClass("hidden");
			// $(".drop-2-container").removeClass("hidden");
			$("#user_name_first").focus();
		});
	}

	function cancel_edit_story_1() {
		$(".edit-story-1").fadeOut(200, function() {
			$(".edit-story-1").addClass("hidden");
			$(".show-story-1").removeClass("hidden").fadeIn(300);
			$("#open_edit_story_1").removeClass("hidden").fadeIn(200);
			$("#close_edit_story_1").addClass("hidden");
			// $("#btns_edit_story_1").removeAttr("style");
			// $("#btns_edit_story_1").addClass("hidden");
			$("#btns_edit_story_1").addClass("visibility-hidden");
			$(".edit-image").removeAttr("style");
			$(".edit-image").fadeIn(200).addClass("hidden");
			$(".dialog-11-figure").addClass("cursor-pointer");
			$(".dialog-21-figure").addClass("cursor-pointer");
			$(".container-figure-image-1").removeClass("container-figure-image-border-edit").addClass("container-figure-image-border");
			$(".container-figure-image-2").removeClass("container-figure-image-border-edit").addClass("container-figure-image-border");
			// $(".drop-1-container").addClass("hidden");
			// $(".drop-2-container").addClass("hidden");
			// $(".container-menu .dropdownContain").addClass("hidden");
			// $("#drop_container_user_image_primary").removeClass("drop");
			// $("#drop_container_logo_image").removeClass("drop");
		});
	}
</script>
<script>
	// *****
	// on open flash messages
	function update_new_user() {
		var formData = {
			new_user: false
		};
		$.ajax({
			type: 'POST',
			data: formData,
			url: '/users/update_new_user',
			dataType: "script",
			beforeSend: function(xhr) {
				xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
			},
			statusCode: {
				// 200:function() { alert("200"); },
				// 202:function() { alert("202"); }
			},
			success: function(data) {
				// alert("successful");
			},
			error: function(xhr) {
				alert("error: " + xhr.statusText);
			}
		});
	}
</script>
<script>
	// function set_control_required(cntrl, b) {
	// // alert('set_control_required');
	// var s_cntrl = "#required_" + cntrl;
	// if(b) {
	// $(s_cntrl).addClass("check-required").removeClass("display-none");
	// }
	// else {
	// $(s_cntrl).removeClass("check-required").addClass("display-none");
	// }
	// }
	function set_control_span(cntrl, s, b) {
		var s_cntrl = "#span_" + cntrl;
		// alert(s_cntrl);
		// alert(s);
		$(s_cntrl).html(s);
		if(b) {
			$(s_cntrl).removeClass("color-no-record").addClass("color-record");
		} else {
			$(s_cntrl).removeClass("color-record").addClass("color-no-record");
		}
	}

	function show_control(cntrl) {
		var s_edit = "#edit_" + cntrl;
		var s_show_open = "#show_" + cntrl + ", #open_edit_" + cntrl;
		$(s_edit).fadeOut(300, function() {
			$(s_edit).addClass("hidden");
			$(s_show_open).fadeIn(200).removeClass("hidden");
			$(s_show_open).fadeIn(200).removeClass("hidden").removeClass("visibility-hidden");
		});
	}
	var user_slug = <%= @user.slug %> ;
	var scroll_top = 0; // legacy
	// $(window).load( function() {
	$(document).ready(function() {
		// $.ajaxSetup({cache: false});
		document.body.setAttribute('spellcheck', false);
		// *****
		// on open flash messages
		$(document).on("click", "#btn_dlg_submit_new_user_msg", function() {
			var ch_new_user = $("#new_user").is(':checked');
			if(ch_new_user) {
				// alert(ch_new_user);
				update_new_user();
				$("#close_form201").trigger('click');
			} else {
				$("#close_form201").trigger('click');
			}
		});
		// on open flash messages
		// *****
		// *****
		// dialogs
		$('#dialog_201').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-200px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_201').animate({
					bottom: '-=220',
					top: '+=220'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_201').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$('#dialog_12').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-220px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_12').animate({
					bottom: '-=230',
					top: '+=230'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_12').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$('#dialog_22').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-220px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_22').animate({
					bottom: '-=230',
					top: '+=230'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_22').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$('#dialog_13').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-220px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_13').animate({
					bottom: '-=230',
					top: '+=230'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_13').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$('#dialog_23').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-220px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_23').animate({
					bottom: '-=230',
					top: '+=230'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_23').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$('#dialog_14').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-200px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_14').animate({
					bottom: '-=210',
					top: '+=210'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_14').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$('#dialog_24').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', '-200px');
				hash.w.css('opacity', 1.0).fadeIn(200);
				// hash.w.show();
				$('#dialog_24').animate({
					bottom: '-=210',
					top: '+=210'
				}, 500, 'easeInOutCirc', function() {
					$('#dialog_24').animate({
						bottom: '+=4',
						top: '-=4'
					}, 100, 'easeInBounce', function() {});
				});
			}
		});
		$(document).on('click_2001', function() {
			var s = "#dialog_2001_content";
			// scroll_top = $(window).scrollTop();
			var content = $(this).find(s).html();
			$("#dialog_2001_content_container").html(content);
			$("#dialog_2001").jqmShow();
		});
		$('#dialog_2001').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				// hash.w.css('top', 40 + scroll_top);
				hash.w.css('top', 20);
				hash.w.css('opacity', 1.0).fadeIn(200);
			}
		});
		$(document).on('click_2002', function() {
			var s = "#dialog_2002_content";
			// scroll_top = $(window).scrollTop();
			var content = $(this).find(s).html();
			$("#dialog_2002_content_container").html(content);
			$("#dialog_2002").jqmShow();
		});
		$('#dialog_2002').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				// hash.w.css('top', 40 + scroll_top);
				hash.w.css('top', 20);
				hash.w.css('opacity', 1.0).fadeIn(200);
			}
		});
		// $(document).on('click_1001', function() {
		// scroll_top = $(window).scrollTop();
		// });
		$(document).on('click_101', function(e, id) {
			var s = "div#" + id;
			// scroll_top = $(window).scrollTop();
			var content = $(this).find(s).html();
			$("#dialog_101_content_container").html(content);
			$("#dialog_101").jqmShow();
		});
		$('#dialog_101').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				// hash.w.css('top', 40 + scroll_top);
				hash.w.css('top', 20);
				hash.w.css('opacity', 1.0).fadeIn(200);
			}
		});
		$(document).on('click_104', function() {
			$("#dialog_104").jqmShow();
		});
		$('#dialog_104').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', 20);
				hash.w.css('opacity', 1.0).fadeIn(200);
			}
		});
		$(document).on('click_105', function() {
			$("#dialog_105").jqmShow();
		});
		$('#dialog_105').jqm({
			onShow: function(hash) {
				hash.o.prependTo('body');
				hash.w.css('top', 20);
				hash.w.css('opacity', 1.0).fadeIn(200);
			}
		});
		// $("#img_2").on('click', function() {
		// $("#profile_figure_dialog_11_link").click();
		// // window.location = "publisher_users/fullscreen";
		// });
		// dialogs
		// *****
		// *****
		// story 1 publisher_user info
		$("#open_edit_story_1").click(function() {
			show_edit_story_1();
		});
		$("#close_edit_story_1").click(function() {
			cancel_edit_story_1();
		});
		$("#cancel_edit_story_1").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_edit_story_1").click();
		});
		$("#cancel_edit_story_1").on('click', function() {
			cancel_edit_story_1();
		});
		// set_control_required("name_first", gon.b_required_name_first);
		$("#submit_edit_story_1").keypress(function(e) {
			if(e.keyCode == 13) $("#submit_edit_story_1").click();
		});
		set_control_span("publisher_user_name_first", gon.name_first, gon.b_name_first);
		set_control_span("publisher_user_name_last", gon.name_last, gon.b_name_last);
		set_control_span("publisher_user_email", gon.email, gon.b_email);
		set_control_span("publisher_user_location", gon.location, gon.b_location);
		set_control_span("publisher_user_name_alias", gon.name_alias, gon.b_name_alias);
		set_control_span("publisher_user_job_title", gon.job_title, gon.b_job_title);
		set_control_span("publisher_user_name_company", gon.name_company, gon.b_name_company);
		set_control_span("publisher_user_time_at_company", gon.time_at_company, gon.b_time_at_company);
		set_control_span("publisher_user_website", gon.website, gon.b_website);
		set_control_span("publisher_user_phone_company", gon.phone_company, gon.b_phone_company);
		$("#submit_edit_story_1").on('click', function() {
			var input_user_name_first = $("#publisher_user_name_first").val();
			var input_user_name_last = $("#publisher_user_name_last").val();
			var input_publisher_user_email = $("#publisher_user_email").val();
			var input_publisher_user_location = $("#publisher_user_location").val();
			var input_publisher_user_name_alias = $("#publisher_user_name_alias").val();
			var input_publisher_user_job_title = $("#publisher_user_job_title").val();
			var input_publisher_user_name_company = $("#publisher_user_name_company").val();
			var input_publisher_user_time_at_company = $("#publisher_user_time_at_company").val();
			var input_publisher_user_website = $("#publisher_user_website").val();
			var input_publisher_user_phone_company = $("#publisher_user_phone_company").val();
			// var obj_list = '{"publisher_product_description_id":' + <#%= @publisher_product_description_id %#> +
			// ', "publisher_product_id":' + <#%= @publisher_product_id %#> +
			// ', "publisher_id":' + <#%= @publisher_id %#> +
			// ', "name_first":"' + input_publisher_product_description_name_first +
			// '"}';
			var obj_list = '{ "name_first":"' + input_user_name_first + '", "name_last":"' + input_user_name_last + '", "email":"' + input_publisher_user_email + '", "location":"' + input_publisher_user_location + '", "name_alias":"' + input_publisher_user_name_alias + '", "job_title":"' + input_publisher_user_job_title + '", "name_company":"' + input_publisher_user_name_company + '", "time_at_company":"' + input_publisher_user_time_at_company + '", "website":"' + input_publisher_user_website + '", "phone_company":"' + input_publisher_user_phone_company + '"}';
			var obj = '{ "publisher_user": [' + obj_list + '] }';
			$.ajax({
				type: 'POST',
				// data : JSON.stringify(obj),
				data: obj,
				url: '/publisher_users/update_story_1',
				dataType: "json",
				contentType: "application/json",
				processData: false,
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
				},
				statusCode: {
					// 200:function() { alert("200"); },
					// 202:function() { alert("202"); }
				},
				success: function(data) {
					// alert(data.name_first);
					set_control_span("publisher_user_name_first", data.name_first, data.b_name_first);
					set_control_span("publisher_user_name_last", data.name_last, data.b_name_last);
					set_control_span("publisher_user_email", data.email, data.b_email);
					set_control_span("publisher_user_location", data.location, data.b_location);
					set_control_span("publisher_user_name_alias", data.name_alias, data.b_name_alias);
					set_control_span("publisher_user_job_title", data.job_title, data.b_job_title);
					set_control_span("publisher_user_name_company", data.name_company, data.b_name_company);
					set_control_span("publisher_user_time_at_company", data.time_at_company, data.b_time_at_company);
					set_control_span("publisher_user_website", data.website, data.b_website);
					set_control_span("publisher_user_phone_company", data.phone_company, data.b_phone_company);
					cancel_edit_story_1();
					// // set_control_required("name_first", data.b_required);
					// show_control("name_first");
					// $("#btns_edit_story_1").addClass("hidden");
					// $("#open_edit_story_1").removeClass("hidden");
				},
				error: function(xhr) {
					alert("error: " + xhr.statusText);
				}
			});
			return false;
		});
		// story 1 publisher_user info
		// *****
		// *****
		// story 6 user info
		// $('select').dropdown({
		// 'changed': function(data) {
		// }
		// });
		$('#user_gender_0').prop('checked', false);
		$('#user_gender_1').prop('checked', false);
		$('#rd_gender_male_container').on('click', function() {
			rd_gender('male');
		});
		$('#rd_gender_female_container').on('click', function() {
			rd_gender('female');
		});
		$('#rd_gender_male_container').keypress(function(e) {
			if(e.keyCode == 13) $('#rd_gender_male').click();
		});
		$('#rd_gender_female_container').keypress(function(e) {
			if(e.keyCode == 13) $('#rd_gender_female').click();
		});
		$("#open_edit_story_6").click(function() {
			show_edit_story_6();
		});
		$("#close_edit_story_6").click(function() {
			cancel_edit_story_6();
		});
		$("#cancel_edit_story_6").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_edit_story_6").click();
		});
		$("#cancel_edit_story_6").on('click', function() {
			cancel_edit_story_6();
		});
		$("#submit_edit_story_6").keypress(function(e) {
			if(e.keyCode == 13) $("#submit_edit_story_6").click();
		});
		set_control_span("user_name_first", gon.user_name_first, gon.b_user_name_first);
		set_control_span("user_name_last", gon.user_name_last, gon.b_user_name_last);
		set_control_span("user_email", gon.user_email, gon.b_user_email);
		set_control_span("user_gender_text", gon.user_gender_text, gon.b_user_gender_text);
		set_control_span("user_bd_month_text", gon.user_bd_month_text, gon.b_user_bd_month_text);
		set_control_span("user_bd_day", gon.user_bd_day, gon.b_user_bd_day);
		set_control_span("user_bd_year", gon.user_bd_year, gon.b_user_bd_year);
		// $("input[name='gender']:checked").val(gon.user_gender);
		var s_bd_month_dropdown1 = "#dropdown1 ul [data-index='" + gon.user_bd_month + "']";
		$(s_bd_month_dropdown1).addClass("selected");
		$("#dropdown1 div.selected").html(gon.user_bd_month_text + '<div class="down-caret">&#9660;</div>');
		$("#dropdown1 ul [data-index='0']").removeClass("selected");
		var s_bd_day_dropdown2 = "#dropdown2 ul [data-index='" + gon.user_bd_day + "']";
		$(s_bd_day_dropdown2).addClass("selected");
		$("#dropdown2 div.selected").html(gon.user_bd_day + '<div class="down-caret">&#9660;</div>');
		$("#dropdown2 ul [data-index='0']").removeClass("selected");
		var s_bd_year_dropdown3 = "#dropdown3 ul [data-index='" + gon.user_bd_year + "']";
		$(s_bd_year_dropdown3).addClass("selected");
		$("#dropdown3 div.selected").html(gon.user_bd_year + '<div class="down-caret">&#9660;</div>');
		$("#dropdown3 ul [data-index='0']").removeClass("selected");
		$("select#user_bd_month").val(gon.user_bd_month);
		$("select#user_bd_day").val(gon.user_bd_day);
		$("select#user_bd_year").val(gon.user_bd_year);
		rd_gender(gon.user_gender_text.toLowerCase());
		$("#submit_edit_story_6").on('click', function() {
			// alert($("input[name='gender']:checked").val());
			// alert($("select#user_bd_month").attr("value"));
			// alert($("select#user_bd_day").attr("value"));
			// alert($("select#user_bd_year").attr("value"));
			var input_user_name_first = $("#user_name_first").val();
			var input_user_name_last = $("#user_name_last").val();
			var input_user_email = $("#user_email").val();
			var input_user_gender = $("input[name='gender']:checked").val();
			var input_user_bd_month = $("#user_bd_month").val();
			var input_user_bd_day = $("#user_bd_day").val();
			var input_user_bd_year = $("#user_bd_year").val();
			var obj_list = '{ "name_first":"' + input_user_name_first + '", "name_last":"' + input_user_name_last + '", "email":"' + input_user_email + '", "gender":' + input_user_gender + ', "bd_month":' + input_user_bd_month + ', "bd_day":' + input_user_bd_day + ', "bd_year":' + input_user_bd_year + '}';
			var obj = '{ "user": [' + obj_list + '] }';
			$.ajax({
				type: 'POST',
				// data : JSON.stringify(obj),
				data: obj,
				url: '/publisher_users/update_story_6',
				dataType: "json",
				contentType: "application/json",
				processData: false,
				beforeSend: function(xhr) {
					xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))
				},
				statusCode: {
					// 200:function() { alert("200"); },
					// 202:function() { alert("202"); }
				},
				success: function(data) {
					// alert(data.name_first);
					set_control_span("user_name_first", data.name_first, data.b_name_first);
					set_control_span("user_name_last", data.name_last, data.b_name_last);
					set_control_span("user_email", data.email, data.b_email);
					set_control_span("user_gender_text", data.gender_text, data.b_gender_text);
					set_control_span("user_bd_month_text", data.bd_month_text, data.b_month_text);
					set_control_span("user_bd_day", data.bd_day, data.b_day);
					set_control_span("user_bd_year", data.bd_year, data.b_year);
					cancel_edit_story_6();
				},
				error: function(xhr) {
					alert("error: " + xhr.statusText);
				}
			});
			return false;
		});
		// story 6 user info
		// *****
		// *****
		// user_image_primary
		id_image = gon.id_image;
		$(document).on("click", "#btn_dlg_submit_upload_image_primary", function() {
			$("form#new_publisher_user_image input#new_publisher_user_image_image").click();
		});
		$(document).on("change", "form#new_publisher_user_image input#new_publisher_user_image_image", function() {
			$("#dvLoading_12").removeClass("dvLoading-display-none");
			$("form#new_publisher_user_image input#btn_submit_dialog_12").click();
		});
		$(document).on("click", "#figcaption_image_primary_generic", function() {
			$("form#new_publisher_user_image input#new_publisher_user_image_image").val('');
			$("#dialog_12").jqmShow();
		});
		$(document).on("click", "#btn_photo_primary_new", function() {
			$("form#new_publisher_user_image input#new_publisher_user_image_image").val('');
			$("#dialog_12").jqmShow();
			$("#btn_dlg_submit_upload_image_primary").focus();
		});
		$(document).on("click", "#btn_dlg_cancel_upload_image_primary", function() {
			$("#close_form12").trigger('click');
		});
		$(document).on("click", "#btn_dlg_submit_upload_image_primary_change", function() {
			$("form#change_publisher_user_image input#change_publisher_user_image_image").click();
		});
		$(document).on("change", "form#change_publisher_user_image input#change_publisher_user_image_image", function() {
			$("#dvLoading_13").removeClass("dvLoading-display-none");
			$("form#change_publisher_user_image input#btn_submit_dialog_13").click();
		});
		$(document).on("btn_photo_primary_change_click", function() {
			$("form#change_publisher_user_image input#change_publisher_user_image_image").val('');
			$("#dialog_13").jqmShow();
			$("#btn_dlg_submit_upload_image_primary_change").focus();
		});
		$(document).on("click", "#btn_dlg_cancel_upload_image_primary_change", function() {
			$("#close_form13").trigger('click');
		});
		$(document).on("click", "#btn_dlg_submit_delete_image_primary", function() {
			delete_image_primary(id_image);
		});
		$(document).on("click", "#btn_dlg_cancel_delete_image_primary", function() {
			$("#close_form14").trigger('click');
		});
		$(document).on("btn_photo_primary_delete_click", function() {
			$("#dialog_14").jqmShow();
			$("#btn_dlg_submit_delete_image_primary").focus();
		});
		$(document).on("btn_photo_primary_crop_click", function() {
			$("#dialog_15").jqmShow();
		});
		$(document).on("click", "#btn_dlg_submit_crop_image_primary", function() {
			crop_image_primary();
		});
		$(document).on("click", "#btn_dlg_cancel_crop_image_primary", function() {
			$("#close_form15").trigger('click');
		});
		// user_image_primary
		// *****
		// *****
		// publisher_user_logo_image_primary
		id_image_logo = gon.id_image_logo;
		$(document).on("click", "#btn_dlg_submit_upload_image_logo", function() {
			$("form#new_publisher_user_logo_image input#new_publisher_user_logo_image_image").click();
		});
		$(document).on("change", "form#new_publisher_user_logo_image input#new_publisher_user_logo_image_image", function() {
			$("#dvLoading_22").removeClass("dvLoading-display-none");
			$("form#new_publisher_user_logo_image input#btn_submit_dialog_22").click();
		});
		$(document).on("click", "#figcaption_logo_image_generic", function() {
			$("form#new_publisher_user_logo_image input#new_publisher_user_logo_image_image").val('');
			$("#dialog_22").jqmShow();
		});
		$(document).on("click", "#btn_photo_logo_new", function() {
			$("form#new_publisher_user_logo_image input#new_publisher_user_logo_image_image").val('');
			$("#dialog_22").jqmShow();
		});
		$(document).on("click", "#btn_dlg_cancel_upload_image_logo", function() {
			$("#close_form22").trigger('click');
		});
		$(document).on("click", "#btn_dlg_submit_upload_logo_image_change", function() {
			$("form#change_publisher_user_logo_image input#change_publisher_user_logo_image_image").click();
		});
		$(document).on("change", "form#change_publisher_user_logo_image input#change_publisher_user_logo_image_image", function() {
			$("#dvLoading_23").removeClass("dvLoading-display-none");
			$("form#change_publisher_user_logo_image input#btn_submit_dialog_23").click();
		});
		$(document).on("btn_photo_logo_change_click", function() {
			$("form#change_publisher_user_logo_image input#change_publisher_user_logo_image_image").val('');
			$("#dialog_23").jqmShow();
			$("#btn_dlg_submit_upload_logo_image_change").focus();
		});
		$(document).on("click", "#btn_dlg_cancel_upload_logo_image_change", function() {
			$("#close_form23").trigger('click');
		});
		$(document).on("click", "#btn_dlg_submit_delete_logo_image", function() {
			delete_logo_image(id_image_logo);
		});
		$(document).on("click", "#btn_dlg_cancel_delete_logo_image", function() {
			$("#close_form24").trigger('click');
		});
		$(document).on("btn_photo_logo_delete_click", function() {
			$("#dialog_24").jqmShow();
			$("#btn_dlg_submit_delete_logo_image").focus();
		});
		$(document).on("btn_photo_logo_crop_click", function() {
			$("#dialog_25").jqmShow();
		});
		$(document).on("click", "#btn_dlg_submit_crop_logo_image", function() {
			crop_image_logo();
			// $("#btn_submit_crop_image_primary").click();
		});
		$(document).on("click", "#btn_dlg_cancel_crop_logo_image", function() {
			$("#close_form25").trigger('click');
		});
		// publisher_user_logo_image_primary
		// *****
		// *****
		// post likes
		$(document).on("click", ".btn-submit-post-user-like-create", function() {
			var id = $(this).find("input[name='post_user_id_hidden']").attr("value");
			var nlist = $(this).attr("name");
			create_post_user_like(id, nlist);
		});
		$(document).on("click", ".btn-submit-post-user-like-delete", function() {
			var id = $(this).find("input[name='post_user_id_hidden']").attr("value");
			var nlist = $(this).attr("name");
			delete_post_user_like(id, nlist);
		});
		// post likes
		// *****
		// *****
		// post comments
		$(document).on("click", ".textarea-add-comment", function() {
			// if (!b_edit_comment) {
			$p = $(this).closest(".textarea-add-comment-parent");
			$b = $p.find(".btn-add-comment-story-4-container");
			edit_textarea_comment($(this), $b);
			// }
		});
		$(document).on("keyup", ".textarea-add-comment", function() {
			// var v = $(this).html();
			// if ((v == "<br>") || (v == "")) {
			reset_textarea_comment();
			// }
		});
		$(document).on("keydown", ".textarea-add-comment", function() {
			// if (!b_edit_comment) {
			$p = $(this).closest(".textarea-add-comment-parent");
			$b = $p.find(".btn-add-comment-story-4-container");
			edit_textarea_comment($(this), $b);
			// }
		});
		$(document).on('click', function(e) {
			var $t = $(e.target);
			if(!$t.hasClass("toggle-comment")) {
				reset_textarea_comment();
			}
		});
		$(document).on("click", "#btn_dlg_submit_delete_comment", function() {
			// var o_target = $(e.target).parents('.nav-drop-1').attr('id');
			delete_post_user_comment();
		});
		$(document).on("click", "#btn_dlg_cancel_delete_comment", function() {
			$("#close_form105").trigger('click');
		});
		$(document).on("click", ".post-user-comment-delete", function() {
			post_user_comment_comment_id_delete = $(this).find(".comment-id").attr("name");
			post_user_comment_post_user_id_delete = $(this).find(".post-user-id").attr("name");
			// $("#dialog_104").jqmShow();
			$(document).trigger('click_105');
			$("#btn_dlg_cancel_delete_comment").focus();
		});
		// post comments
		// *****
		// ************************************************************************************************
		// story 4 posts
		$("#render_story_4").html("<%= j render("publisher_users/story_4") %>");
		$("#render_story_4_post_users_count").html("<%= j render("publisher_users/story_4_post_users_count") %>");
		$(document).on("click", ".textarea-add-post-user", function() {
			if(!b_edit_post_user) {
				// $p = $(this).closest(".textarea-add-post-user-parent");
				// $b = $p.find(".btn-textarea-add-post-user-story-4-container"); // btn-textarea-add-post-user-story-4-container
				// edit_textarea_post_user($(this), $b);
				edit_textarea_post_user();
			}
		});
		$(document).on("keyup", ".textarea-add-post-user", function() {
			// var v = $(this).html();
			// var $p = $(this).parent();
			// var $q = $p.find(".render-post-user-image");
			// var w = $q.html();
			var v = $("#textarea_add_post_user").html();
			var w = $("#render_post_user_image").html();
			if(((v == "<br>") || (v == "")) && ((w == "<br>") || (w == ""))) {
				reset_textarea_post_user();
			}
		});
		$(document).on("keydown", ".textarea-add-post-user", function() {
			if(!b_edit_post_user) {
				// $p = $(this).closest(".textarea-add-post-user-parent");
				// $b = $p.find(".btn-textarea-add-post-user-story-4-container");
				// edit_textarea_post_user($(this), $b);
				edit_textarea_post_user();
			}
		});
		$(document).on('click', function(e) {
			var $t = $(e.target);
			var c = ":" + $t.attr("class") + ":";
			if((c !== ":undefined:") && (c !== ":btn-submit hidden:")) {
				if(!(($t.hasClass("div-link")) || ($t.hasClass("toggle-post-user")) || ($t.parents().hasClass("toggle-post-user")))) {
					var v = $("#textarea_add_post_user").html();
					var w = $("#render_post_user_image").html();
					if(((v == "<br>") || (v == "")) && ((w == "<br>") || (w == ""))) {
						// alert("triggered by = " + c);
						reset_textarea_post_user();
					}
				}
			}
		});
		// onblur="onDivBlur();"
		// onmousedown="return cancelEvent(event);"
		// onclick="return cancelEvent(event);"
		// contentEditable="true"
		// onmouseup="saveSelection();"
		// onkeyup="saveSelection();"
		// onfocus="restoreSelection();"
		$("#textarea_add_post_user").on('blur', function(e) {
			onDivBlur_post_user();
		});
		$("#textarea_add_post_user").on('mousedown', function(e) {
			return cancelEvent_post_user(e);
		});
		$("#textarea_add_post_user").on('click', function(e) {
			return cancelEvent_post_user(e);
		});
		$("#textarea_add_post_user").on('mouseup', function(e) {
			saveSelection_post_user();
		});
		$("#textarea_add_post_user").on('keyup', function(e) {
			saveSelection_post_user();
		});
		$("#textarea_add_post_user").on('focus', function(e) {
			restoreSelection_post_user();
		});
		$("#textarea_add_post_user").on('keydown', function(e) {
			if(e.keyCode == 9) {
				e.preventDefault();
				insertTextAtCursor_post_user("\t");
			}
		});
		$(document).on("click", "#btn_dlg_submit_delete_post", function() {
			delete_post_user(post_user_id_delete);
		});
		$(document).on("click", "#btn_dlg_cancel_delete_post", function() {
			$("#close_form104").trigger('click');
		});
		$(document).on("click", ".post-user-delete", function() {
			post_user_id_delete = $(this).find(".post-user-id").attr("name");
			// $("#dialog_104").jqmShow();
			$(document).trigger('click_104');
			$("#btn_dlg_cancel_delete_post").focus();
		});
		$("#submit_story_4").keypress(function(e) {
			if(e.keyCode == 13) $("#submit_story_4").click();
		});
		$("#submit_story_4").on('click', function() {
			var c = $("#textarea_add_post_user").html().replace(/\t/g, '        ');
			$("#post_user_post_text").val(c);
			// $("#post_user_id").val(post_user_created_id);
			$("#submit_story_4_text").addClass("hidden");
			$("#submit_story_4_loader").removeClass("hidden");
			$("#submit_story_4_hidden").click();
		});
		$("#cancel_story_4").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_story_4").click();
		});
		$("#cancel_story_4").on('click', function() {
			cancel_post_user();
			// $("#submit_story_4_text").addClass("hidden");
			// $("#submit_story_4_loader").removeClass("hidden");
		});
		// $("#submit_edit_story_4").keypress(function(e){
		// if(e.keyCode==13)
		// $("#submit_edit_story_4").click();
		// });
		// $("#submit_edit_story_4").on('click', function() {
		// $("#submit_edit_story_4_hidden").click();
		// });
		// story 4 posts
		// ************************************************************************************************
		// $("#render_story_5").html("<#%= j render("publisher_users/story_5") %#>");
		// $("#render_story_5_log_users_count").html("<#%= j render("publisher_users/story_5_log_users_count") %#>");
		// $("#render_story_5_will_paginate").html("<#%= j render("publisher_users/story_5_will_paginate") %#>");
		// $(document).on("click", ".btn-submit-log-user-like-create", function() {
		// var id = $(this).find("input[name='log_user_id_hidden']").attr("value");
		// var nlist = $(this).attr("name");
		// create_log_user_like(id, nlist);
		// });
		// $(document).on("click", ".btn-submit-log-user-like-delete", function() {
		// var id = $(this).find("input[name='log_user_id_hidden']").attr("value");
		// var nlist = $(this).attr("name");
		// delete_log_user_like(id, nlist);
		// });
		// $(document).on("click", ".digg_pagination a", function() {
		// $("#paginate_loading_story_5").removeClass("hidden");
		// var s_href = this.href;
		// var n = s_href.indexOf("page=");
		// var s_page = s_href.substr(n, s_href.length-1);
		// s_url = '/publisher_users/get_feed_log?' + s_page
		// $.getScript(s_url);
		// var push_url = '/' + user_slug + '?' + s_page
		// // history.pushState(null, document.title, this.href);
		// history.pushState(null, null, push_url);
		// return false;
		// });
		// *****
		// story 2 publisher_user_plot
		story_2_publisher_user_plot_html = "<%= @publisher_user.publisher_user_plot.plot_text.html_safe %>";
		init_render_story_2();
		$("#open_edit_story_2").click(function() {
			show_edit_story_2();
		});
		$("#close_edit_story_2").click(function() {
			cancel_edit_story_2();
		});
		$("#cancel_edit_story_2").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_edit_story_2").click();
		});
		$("#cancel_edit_story_2").on('click', function() {
			cancel_edit_story_2();
		});
		// $("#submit_edit_story_2").keypress(function(e){
		// if(e.keyCode==13)
		// $("#submit_edit_story_2").click();
		// });
		// $("#submit_edit_story_2").on('click', function() {
		// $("#submit_edit_story_2_hidden").click();
		// });
		// $("#render_story_2").html("<#%= j render("publisher_users/story_2") %#>");
		// $(document).on("click", ".textarea-user-plot", function() {
		// $(document).on("click", "#textarea_publisher_user_plot_container_edit", function() {
		// // if (!b_edit_publisher_user_plot) {
		// // // $p = $(this).closest(".textarea-user-plot-parent");
		// // // $b = $p.find(".btn-textarea-user-plot-story-4-container"); // btn-textarea-user-plot-story-4-container
		// // // edit_textarea_publisher_user_plot($(this), $b);
		// // edit_textarea_publisher_user_plot();
		// // }
		// partial_init_render_story_2_edit();
		// });
		// $(document).on("keydown", "#textarea_publisher_user_plot_edit", function() {
		// $("#textarea_publisher_user_plot_edit").removeClass("textarea-user-plot-empty");
		// });
		// $(document).on("keyup", "#textarea_publisher_user_plot_edit", function() {
		// partial_init_render_story_2_edit();
		// });
		// $(document).on("focus", "#textarea_publisher_user_plot_edit", function() {
		// partial_init_render_story_2_edit();
		// });
		// $(document).on("keydown", ".textarea-user-plot", function() {
		// if (!b_edit_publisher_user_plot) {
		// // $p = $(this).closest(".textarea-user-plot-parent");
		// // $b = $p.find(".btn-textarea-user-plot-story-4-container");
		// // edit_textarea_publisher_user_plot($(this), $b);
		// edit_textarea_publisher_user_plot();
		// }
		// });
		// $(document).on('click', function(e) {
		// var $t = $(e.target);
		// var c = ":" + $t.attr("class") + ":";
		// if ( (c !== ":undefined:") && (c !== ":btn-submit hidden:") ) {
		// if ( !( ($t.hasClass("div-link")) || ($t.hasClass("toggle-user-plot"))  || ($t.parents().hasClass("toggle-user-plot") ) ) ) {
		// var v = $("#textarea_publisher_user_plot").html();
		// var w = $("#render_publisher_user_plot_image").html();
		// if ( ((v == "<br>") || (v == "")) && ((w == "<br>") || (w == "")) ) {
		// // alert("triggered by = " + c);
		// reset_textarea_publisher_user_plot();
		// }
		// }
		// }
		// });
		// onblur="onDivBlur();"
		// onmousedown="return cancelEvent(event);"
		// onclick="return cancelEvent(event);"
		// contentEditable="true"
		// onmouseup="saveSelection();"
		// onkeyup="saveSelection();"
		// onfocus="restoreSelection();"
		$("#textarea_publisher_user_plot_edit").on('blur', function(e) {
			onDivBlur_publisher_user_plot();
		});
		$("#textarea_publisher_user_plot_edit").on('mousedown', function(e) {
			return cancelEvent_publisher_user_plot(e);
		});
		$("#textarea_publisher_user_plot_edit").on('click', function(e) {
			return cancelEvent_publisher_user_plot(e);
		});
		$("#textarea_publisher_user_plot_edit").on('mouseup', function(e) {
			saveSelection_publisher_user_plot();
		});
		$("#textarea_publisher_user_plot_edit").on('keyup', function(e) {
			saveSelection_publisher_user_plot();
		});
		$("#textarea_publisher_user_plot_edit").on('focus', function(e) {
			restoreSelection_publisher_user_plot();
		});
		$("#textarea_publisher_user_plot_edit").on('keydown', function(e) {
			if(e.keyCode == 9) {
				e.preventDefault();
				insertTextAtCursor_publisher_user_plot("\t");
			}
		});
		$("#submit_story_2").keypress(function(e) {
			if(e.keyCode == 13) $("#submit_story_2").click();
		});
		$("#submit_story_2").on('click', function() {
			var c = $("#textarea_publisher_user_plot_edit").html().replace(/\t/g, '        ');
			$("#publisher_user_plot_plot_text").val(c);
			$("#submit_story_2_text").addClass("hidden");
			$("#submit_story_2_loader").removeClass("hidden");
			$("#submit_story_2_hidden").click();
		});
		$("#cancel_story_2").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_story_2").click();
		});
		$("#cancel_story_2").on('click', function() {
			cancel_edit_story_2();
		});
		// story 2 publisher_user_plot
		// *****
		// *****
		// story 3 publisher_user_interest
		$("#open_edit_story_3").click(function() {
			show_edit_story_3();
		});
		$("#close_edit_story_3").click(function() {
			cancel_edit_story_3();
		});
		$("#cancel_edit_story_3").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_edit_story_3").click();
		});
		$("#cancel_edit_story_3").on('click', function() {
			cancel_edit_story_3();
		});
		$("#submit_edit_story_3").keypress(function(e) {
			if(e.keyCode == 13) $("#submit_edit_story_3").click();
		});
		$("#submit_edit_story_3").on('click', function() {
			$("#submit_edit_story_3_hidden").click();
		});
		story_3_publisher_user_interest_html = "<%= @publisher_user.publisher_user_interest.interest_text.html_safe %>";
		init_render_story_3();
		$("#open_edit_story_3").click(function() {
			show_edit_story_3();
		});
		$("#close_edit_story_3").click(function() {
			cancel_edit_story_3();
		});
		$("#cancel_edit_story_3").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_edit_story_3").click();
		});
		$("#cancel_edit_story_3").on('click', function() {
			cancel_edit_story_3();
		});
		$("#textarea_publisher_user_interest_edit").on('blur', function(e) {
			onDivBlur_publisher_user_interest();
		});
		$("#textarea_publisher_user_interest_edit").on('mousedown', function(e) {
			return cancelEvent_publisher_user_interest(e);
		});
		$("#textarea_publisher_user_interest_edit").on('click', function(e) {
			return cancelEvent_publisher_user_interest(e);
		});
		$("#textarea_publisher_user_interest_edit").on('mouseup', function(e) {
			saveSelection_publisher_user_interest();
		});
		$("#textarea_publisher_user_interest_edit").on('keyup', function(e) {
			saveSelection_publisher_user_interest();
		});
		$("#textarea_publisher_user_interest_edit").on('focus', function(e) {
			restoreSelection_publisher_user_interest();
		});
		$("#textarea_publisher_user_interest_edit").on('keydown', function(e) {
			if(e.keyCode == 9) {
				e.preventDefault();
				insertTextAtCursor_publisher_user_interest("\t");
			}
		});
		$("#submit_story_3").keypress(function(e) {
			if(e.keyCode == 13) $("#submit_story_3").click();
		});
		$("#submit_story_3").on('click', function() {
			var c = $("#textarea_publisher_user_interest_edit").html().replace(/\t/g, '        ');
			$("#publisher_user_interest_interest_text").val(c);
			$("#submit_story_3_text").addClass("hidden");
			$("#submit_story_3_loader").removeClass("hidden");
			$("#submit_story_3_hidden").click();
		});
		$("#cancel_story_3").keypress(function(e) {
			if(e.keyCode == 13) $("#cancel_story_3").click();
		});
		$("#cancel_story_3").on('click', function() {
			cancel_edit_story_3();
		});
		// story 3 publisher_user_interest
		// *****
	});
	$(window).on('beforeunload', function() {
		cancel_post_user_on_close();
	});
	$(window).load(function() {
		// $(document).ready(function () {
		if(gon.new_user.toString() == 'true') {
			$("#dialog_201").jqmShow();
		}
	});
</script>
<script>
	// *****
	// story 3 publisher_user_interest
	var story_3_publisher_user_interest_html = null;

	function partial_init_render_story_3() {
		var v = $("#textarea_publisher_user_interest").html();
		var w = $("#render_publisher_user_interest_image").html();
		if(((v == "<br>") || (v == "")) && ((w == "<br>") || (w == ""))) {
			$("#textarea_publisher_user_interest").addClass("textarea-user-interest-empty");
		} else {
			$("#textarea_publisher_user_interest").removeClass("textarea-user-interest-empty");
		}
	}

	function partial_init_render_story_3_edit() {
			var v = $("#textarea_publisher_user_interest_edit").html();
			var w = $("#render_publisher_user_interest_image_edit").html();
			if(((v == "<br>") || (v == "")) && ((w == "<br>") || (w == ""))) {
				$("#textarea_publisher_user_interest_edit").addClass("textarea-user-interest-empty");
			} else {
				$("#textarea_publisher_user_interest_edit").removeClass("textarea-user-interest-empty");
			}
		}
		// function init_render_story_3_edit() {
		// partial_init_render_story_3_edit();
		// }
	function init_render_story_3() {
		$("#textarea_publisher_user_interest").html(story_3_publisher_user_interest_html);
		partial_init_render_story_3();
	}

	function show_edit_story_3() {
		var textarea_html = $("#textarea_publisher_user_interest").html();
		$("#open_edit_story_3, .show-story-3").fadeOut(200, function() {
			$("#open_edit_story_3").addClass("hidden");
			$("#close_edit_story_3").fadeIn(200).removeClass("hidden");
			$(".show-story-3").addClass("hidden");
			$(".edit-story-3").fadeIn(300).removeClass("hidden");
			$("#textarea_publisher_user_interest_edit").html(textarea_html);
			$(".btn-textarea-user-interest-story-3-container").removeClass("hidden");
			// init_render_story_3_edit();
			$("#textarea_publisher_user_interest_edit").focus();
		});
	}

	function cancel_edit_story_3() {
		// $("#render_publisher_user_interest_image").html(""); Must call db delete on image
		// $("#textarea_publisher_user_interest").html("");
		init_render_story_3();
		hide_edit_story_3();
	}

	function close_edit_story_3() {
		$("#submit_story_3_loader").addClass("hidden");
		$("#submit_story_3_text").removeClass("hidden");
		partial_init_render_story_3();
		hide_edit_story_3();
	}

	function hide_edit_story_3() {
			$(".edit-story-3").fadeOut(200, function() {
				$(".edit-story-3").addClass("hidden");
				$(".show-story-3").removeClass("hidden").fadeIn(300);
				$("#open_edit_story_3").removeClass("hidden").fadeIn(200);
				$("#close_edit_story_3").addClass("hidden");
			});
		}
		// var publisher_user_interest_id_delete = null;
	var drop_story_3_attach_visible = false;
	var btn_1_drop_publisher_user_interest_image_clicked = false;

	function drop_story_3_attach_show() {
		$("#drop_story_3_attach").addClass('drop');
		$("#container_drop_story_3_attach").removeClass('hidden');
		$("#drop_story_3_attach div div.dropdownContain div.dropOut").fadeIn(200, function() {
			$(this).css({
				'margin-top': 10
			});
		});
		$("#caret_story_3_attach").removeClass("nav-caret-down").addClass("nav-caret-up");
		drop_story_3_attach_visible = true;
	}

	function drop_story_3_attach_hide() {
		$("#drop_story_3_attach").removeClass('drop');
		$("#container_drop_story_3_attach").addClass('hidden');
		drop_story_3_attach_visible = false;
		$("#drop_story_3_attach div div.dropdownContain div.dropOut").css({
			'margin-top': 0
		});
		$("#caret_story_3_attach").removeClass("nav-caret-up").addClass("nav-caret-down");
		if(btn_1_drop_publisher_user_interest_image_clicked == true) {
			btn_1_drop_publisher_user_interest_image_clicked = false;
			$("form#new_publisher_user_interest_image input#new_publisher_user_interest_image_image").click();
		}
	}

	function drop_toggle_story_3_attach() {
		if(drop_story_3_attach_visible) {
			drop_story_3_attach_hide();
		} else {
			drop_story_3_attach_show();
		}
	}
</script>
<script>
	// *****
	// story 2 publisher_user_plot
	var story_2_publisher_user_plot_html = null;

	function partial_init_render_story_2() {
		var v = $("#textarea_publisher_user_plot").html();
		var w = $("#render_publisher_user_plot_image").html();
		if(((v == "<br>") || (v == "")) && ((w == "<br>") || (w == ""))) {
			$("#textarea_publisher_user_plot").addClass("textarea-user-plot-empty");
		} else {
			$("#textarea_publisher_user_plot").removeClass("textarea-user-plot-empty");
		}
	}

	function partial_init_render_story_2_edit() {
			var v = $("#textarea_publisher_user_plot_edit").html();
			var w = $("#render_publisher_user_plot_image_edit").html();
			if(((v == "<br>") || (v == "")) && ((w == "<br>") || (w == ""))) {
				$("#textarea_publisher_user_plot_edit").addClass("textarea-user-plot-empty");
			} else {
				$("#textarea_publisher_user_plot_edit").removeClass("textarea-user-plot-empty");
			}
		}
		// function init_render_story_2_edit() {
		// partial_init_render_story_2_edit();
		// }
	function init_render_story_2() {
		$("#textarea_publisher_user_plot").html(story_2_publisher_user_plot_html);
		partial_init_render_story_2();
	}

	function show_edit_story_2() {
		var textarea_html = $("#textarea_publisher_user_plot").html();
		$("#open_edit_story_2, .show-story-2").fadeOut(200, function() {
			$("#open_edit_story_2").addClass("hidden");
			$("#close_edit_story_2").fadeIn(200).removeClass("hidden");
			$(".show-story-2").addClass("hidden");
			$(".edit-story-2").fadeIn(300).removeClass("hidden");
			$("#textarea_publisher_user_plot_edit").html(textarea_html);
			$(".btn-textarea-user-plot-story-2-container").removeClass("hidden");
			// init_render_story_2_edit();
			$("#textarea_publisher_user_plot_edit").focus();
		});
	}

	function cancel_edit_story_2() {
		// $("#render_publisher_user_plot_image").html(""); Must call db delete on image
		// $("#textarea_publisher_user_plot").html("");
		init_render_story_2();
		hide_edit_story_2();
	}

	function close_edit_story_2() {
		$("#submit_story_2_loader").addClass("hidden");
		$("#submit_story_2_text").removeClass("hidden");
		partial_init_render_story_2();
		hide_edit_story_2();
	}

	function hide_edit_story_2() {
			$(".edit-story-2").fadeOut(200, function() {
				$(".edit-story-2").addClass("hidden");
				$(".show-story-2").removeClass("hidden").fadeIn(300);
				$("#open_edit_story_2").removeClass("hidden").fadeIn(200);
				$("#close_edit_story_2").addClass("hidden");
			});
		}
		// var b_edit_publisher_user_plot = false;
	var publisher_user_plot_id_delete = null;
	// function edit_textarea_publisher_user_plot() {
	// b_edit_publisher_user_plot = true;
	// $("#textarea_publisher_user_plot").removeClass("textarea-user-plot-inactive").addClass("textarea-user-plot-active");
	// // $(".btn-textarea-user-plot-story-2-container").removeClass("hidden");
	// }
	// function reset_textarea_publisher_user_plot() {
	// $("#render_publisher_user_plot_image").html("");
	// $("#textarea_publisher_user_plot").html("<br>");
	// $(".btn-textarea-user-plot-story-2-container").addClass("hidden");
	// $("#textarea_publisher_user_plot").removeClass("textarea-user-plot-active").addClass("textarea-user-plot-inactive");
	// b_edit_publisher_user_plot = false;
	// }
	// function delete_publisher_user_plot(id) {
	// var formData = {publisher_user_plot_id:id};
	// $.ajax({
	// type: 'POST',
	// data : formData,
	// url: '/publisher_users/destroy_publisher_user_plot',
	// dataType: "script",
	// beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))},
	// statusCode: {
	// },
	// success: function(data) {
	// },
	// error: function(xhr){  alert("error: " + xhr.statusText); }
	// });
	// }
	// function cancel_publisher_user_plot() {
	// $.ajax({
	// type: 'POST',
	// url: '/publisher_users/cancel_publisher_user_plot',
	// dataType: "script",
	// beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))},
	// statusCode: {
	// },
	// success: function(data) {
	// },
	// error: function(xhr){  alert("error: " + xhr.statusText); }
	// });
	// }
	// function cancel_publisher_user_plot_on_close() {
	// var w = $("#render_publisher_user_plot_image").html();
	// if ( !( (w == "<br>") || (w == "") ) ) {
	// $.ajax({
	// type: 'POST',
	// url: '/publisher_users/cancel_publisher_user_plot_on_close',
	// dataType: "script",
	// async: false,
	// beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))} // ,
	// });
	// }
	// }
	var drop_story_2_attach_visible = false;
	var btn_1_drop_publisher_user_plot_image_clicked = false;

	function drop_story_2_attach_show() {
		$("#drop_story_2_attach").addClass('drop');
		$("#container_drop_story_2_attach").removeClass('hidden');
		$("#drop_story_2_attach div div.dropdownContain div.dropOut").fadeIn(200, function() {
			$(this).css({
				'margin-top': 10
			});
		});
		$("#caret_story_2_attach").removeClass("nav-caret-down").addClass("nav-caret-up");
		drop_story_2_attach_visible = true;
	}

	function drop_story_2_attach_hide() {
		$("#drop_story_2_attach").removeClass('drop');
		$("#container_drop_story_2_attach").addClass('hidden');
		drop_story_2_attach_visible = false;
		$("#drop_story_2_attach div div.dropdownContain div.dropOut").css({
			'margin-top': 0
		});
		$("#caret_story_2_attach").removeClass("nav-caret-up").addClass("nav-caret-down");
		if(btn_1_drop_publisher_user_plot_image_clicked == true) {
			btn_1_drop_publisher_user_plot_image_clicked = false;
			$("form#new_publisher_user_plot_image input#new_publisher_user_plot_image_image").click();
		}
	}

	function drop_toggle_story_2_attach() {
		if(drop_story_2_attach_visible) {
			drop_story_2_attach_hide();
		} else {
			drop_story_2_attach_show();
		}
	}
</script>